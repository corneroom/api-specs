swagger: '2.0'
info:
  description: API Gateway for client-facing application endpoints.......
  license:
    name: MIT
    url: 'https://opensource.org/licenses/MIT'
  title: App API Gateway
  version: 1.0.0
host: app-staging-gateway-8ua0taf7.uc.gateway.dev
basePath: /api/v1
schemes:
  - https
paths:
  /bookings:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          minimum: 1
          name: page
          type: integer
        - default: 10
          in: query
          maximum: 100
          minimum: 1
          name: limit
          type: integer
      responses:
        '200':
          description: Paginated list of bookings
          schema:
            $ref: '#/definitions/BookingsSplitResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: Returns bookings for the currently authenticated user ("my bookings").
      operationId: bookingsList
      summary: Get all bookings for the authenticated user
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Booking request payload
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/BookingRequest'
      responses:
        '201':
          description: >-
            Booking created successfully (legacy response - endpoint is
            deprecated)
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '410':
          description: >-
            Gone - Endpoint deprecated. Use POST /bookings/initiate + PATCH
            /bookings/{id}/finalize instead.
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      deprecated: true
      description: >
        **DEPRECATED**: This endpoint has been deprecated. Please use the
        two-step booking flow instead:

        1. POST /api/v1/bookings/initiate - Creates a draft booking

        2. PATCH /api/v1/bookings/{id}/finalize - Finalizes the booking with
        payment intent


        This endpoint now returns 410 Gone with a deprecation message.
      operationId: bookingsCreate
      summary: Create a booking (DEPRECATED)
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /bookings/draft:
    get:
      produces:
        - application/json
      parameters:
        - description: Listing ID to check for draft booking
          in: query
          name: listing_id
          required: true
          type: string
      responses:
        '200':
          description: Draft booking found or no draft exists (data may be null)
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: >-
        Retrieve an existing draft booking for the authenticated user and
        specified listing. Returns the most recent draft booking if one exists.
        If no draft exists, returns a successful response with null data.
      operationId: bookingsGetDraft
      summary: Get draft booking for listing
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /bookings/drafts:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Draft bookings retrieved successfully
          schema:
            $ref: '#/definitions/ApiResponseBookings'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: >-
        Retrieve all active draft bookings for the authenticated user. Returns
        all draft bookings that are not expired and have valid check-in dates,
        ordered by creation date (most recent first). Limited to 10 most recent
        drafts.
      operationId: bookingsGetDrafts
      summary: Get all draft bookings for user
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /bookings/heartbeat:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Service is healthy
          schema:
            example: OK
            type: string
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security: []
      tags:
        - booking
      description: Health check endpoint for the booking service.
      operationId: bookingsHeartbeat
      summary: Heartbeat
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /bookings/host:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          minimum: 1
          name: page
          type: integer
        - default: 10
          in: query
          maximum: 100
          minimum: 1
          name: limit
          type: integer
      responses:
        '200':
          description: Paginated list of host bookings
          schema:
            $ref: '#/definitions/BookingsSplitResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: Returns bookings where the currently authenticated user is the host.
      operationId: bookingsHost
      summary: Get all bookings where the authenticated user is the host
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /bookings/initiate:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Minimal booking initiation payload
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/InitiateBookingRequest'
      responses:
        '201':
          description: Draft booking created successfully
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: >-
        Creates a draft booking with minimal information. Guest ID is extracted
        from JWT token. Returns a booking ID that can be used to create a
        payment intent and finalize the booking later.
      operationId: bookingsInitiate
      summary: Initiate a booking (draft)
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/bookings/{id}':
    delete:
      produces:
        - application/json
      parameters:
        - in: path
          maxLength: 32
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Draft booking deleted successfully
          schema:
            properties:
              message:
                example: Draft booking deleted successfully
                type: string
              success:
                example: true
                type: boolean
            type: object
        '400':
          description: 'Bad Request (e.g., booking is not a draft or user doesn''t own it)'
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Booking not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: >-
        Delete a draft booking by its ID. Only allows deletion of draft bookings
        owned by the authenticated user.
      operationId: bookingsDelete
      summary: Delete a draft booking
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    get:
      produces:
        - application/json
      parameters:
        - in: path
          maxLength: 32
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Booking details
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: Retrieve a booking by its ID.
      operationId: bookingsGet
      summary: Get a booking by ID
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/bookings/{id}/accept':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - description: Optional message to the guest
          in: body
          name: body
          required: true
          schema:
            properties:
              message:
                type: string
            required:
              - message
            type: object
      responses:
        '202':
          description: Booking accepted
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: Accept a booking by its ID.
      operationId: bookingsAccept
      summary: Accept a booking
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/bookings/{id}/cancel':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - description: Cancellation request with actor and reason
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CancelBookingRequest'
      responses:
        '202':
          description: Booking cancelled
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: Cancel a booking by its ID.
      operationId: bookingsCancel
      summary: Cancel a booking
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Booking cancelled successfully
          schema:
            $ref: '#/definitions/BookingResponse'
        '404':
          description: Booking not found
      security:
        - jwtAuth: []
      tags:
        - bookings
      description: Cancel a specific booking
      operationId: cancelBooking
      summary: Cancel a booking
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/bookings/{id}/complete':
    patch:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Booking completed
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Booking not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: Mark a booking as completed by its ID. Only host or guest can complete.
      operationId: bookingsComplete
      summary: Complete a booking
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/bookings/{id}/finalize':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - description: Booking finalization payload with full booking details
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/FinalizeBookingRequest'
      responses:
        '200':
          description: Booking finalized successfully
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Booking not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: >-
        Completes a draft booking with full details and payment intent ID. The
        payment intent ID is used to verify/charge the payment. Actual payment
        confirmation happens via Stripe webhook, which will update the booking
        status accordingly.
      operationId: bookingsFinalize
      summary: Finalize a booking
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/bookings/{id}/payment-intent':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - description: Payment intent ID to associate with draft booking
          in: body
          name: body
          required: true
          schema:
            properties:
              payment_intent_id:
                description: Stripe payment intent ID
                type: string
            required:
              - payment_intent_id
            type: object
      responses:
        '200':
          description: Booking updated successfully
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Booking not found
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: >-
        Updates a draft booking with payment intent ID. This allows the payment
        intent to be restored when the user continues the booking after hot
        reload.
      operationId: bookingsUpdatePaymentIntent
      summary: Update draft booking with payment intent ID
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/bookings/{id}/reject':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          maxLength: 32
          name: id
          required: true
          type: string
        - description: Reason for rejection
          in: body
          name: body
          required: true
          schema:
            properties:
              message:
                maxLength: 255
                type: string
              reason:
                enum:
                  - Listing is no longer available
                  - Going on vacation
                  - Traveling for work
                  - Guest is not a good fit
                  - Other
                maxLength: 255
                type: string
            required:
              - message
              - reason
            type: object
      responses:
        '202':
          description: Booking rejected
          schema:
            $ref: '#/definitions/ApiResponseBooking'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - booking
      description: Reject a booking by its ID.
      operationId: bookingsReject
      summary: Reject a booking
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/bookings/my:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
      responses:
        '200':
          description: List of user's bookings
          schema:
            $ref: '#/definitions/BookingListResponse'
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - bookings
      description: Retrieve bookings for the authenticated user
      operationId: getUserBookings
      summary: Get user's bookings
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/comments/{id}':
    delete:
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '204':
          description: Comment deleted successfully
        '404':
          description: Comment not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Delete a specific comment (only by the comment author)
      operationId: deleteComment
      summary: Delete a comment
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CommentRequest'
      responses:
        '200':
          description: Comment updated successfully
          schema:
            $ref: '#/definitions/CommentResponse'
        '400':
          description: Invalid request
        '404':
          description: Comment not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Update a specific comment (only by the comment author)
      operationId: updateComment
      summary: Update a comment
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/events/{id}':
    get:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Event details
          schema:
            $ref: '#/definitions/EventResponse'
        '404':
          description: Event not found
      security:
        - jwtAuth: []
      tags:
        - events
      description: Retrieve details for a specific event
      operationId: getEvent
      summary: Get event details
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/experiences:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
        - in: query
          name: country
          type: string
        - in: query
          name: max_price
          type: number
      responses:
        '200':
          description: List of experiences
          schema:
            $ref: '#/definitions/ExperienceListResponse'
        '400':
          description: Invalid request parameters
      security:
        - jwtAuth: []
      tags:
        - experiences
      description: Retrieve a paginated list of available experiences
      operationId: getExperiences
      summary: List experiences
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateExperienceRequest'
      responses:
        '201':
          description: Experience created successfully
          schema:
            $ref: '#/definitions/ExperienceResponse'
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - experiences
      description: Create a new local experience or tour
      operationId: createExperience
      summary: Create a new experience
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/experiences/{id}/book':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/BookExperienceRequest'
      responses:
        '201':
          description: Experience booked successfully
          schema:
            $ref: '#/definitions/BookingResponse'
        '400':
          description: Invalid request
        '404':
          description: Experience not found
      security:
        - jwtAuth: []
      tags:
        - bookings
      description: Book a specific experience
      operationId: bookExperience
      summary: Book an experience
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/feed:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          maximum: 100
          name: limit
          type: integer
        - enum:
            - story
            - reel
          in: query
          name: type
          type: string
        - default: false
          in: query
          name: featured
          type: boolean
        - in: query
          name: country
          type: string
      responses:
        '200':
          description: Authenticated community feed
          schema:
            $ref: '#/definitions/FeedResponse'
        '400':
          description: Invalid request parameters
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - content
      description: >-
        Retrieve a personalized feed of community content for authenticated
        users
      operationId: getFeed
      summary: Get authenticated community feed
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/guides:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
        - in: query
          name: country
          type: string
        - in: query
          name: verified
          type: boolean
      responses:
        '200':
          description: List of guides
          schema:
            $ref: '#/definitions/GuideListResponse'
        '400':
          description: Invalid request parameters
      security:
        - jwtAuth: []
      tags:
        - guides
      description: Retrieve a paginated list of available guides
      operationId: getGuides
      summary: List guides
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateGuideRequest'
      responses:
        '201':
          description: Guide profile created successfully
          schema:
            $ref: '#/definitions/GuideResponse'
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - guides
      description: Create a guide profile
      operationId: createGuide
      summary: Become a guide
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/public/feed:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          maximum: 100
          name: limit
          type: integer
        - enum:
            - story
            - reel
          in: query
          name: type
          type: string
        - default: false
          in: query
          name: featured
          type: boolean
        - in: query
          name: country
          type: string
      responses:
        '200':
          description: Public community feed
          schema:
            $ref: '#/definitions/FeedResponse'
        '400':
          description: Invalid request parameters
      security: []
      tags:
        - content
      description: Retrieve a public feed of community content for anonymous users
      operationId: getPublicFeed
      summary: Get public community feed
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/reels:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateReelRequest'
      responses:
        '201':
          description: Reel created successfully
          schema:
            $ref: '#/definitions/ReelResponse'
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - content
      description: Create a new community reel with video and location details
      operationId: createReel
      summary: Create a new reel
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/reels/my:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: List of current user's reels
          schema:
            $ref: '#/definitions/ReelListResponse'
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - content
      description: Retrieve reels created by the authenticated user
      operationId: getUserReels
      summary: Get current user's reels
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/reels/{id}':
    delete:
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '204':
          description: Reel deleted successfully
        '404':
          description: Reel not found
      security:
        - jwtAuth: []
      tags:
        - content
      description: Delete a reel by ID (only by the reel owner)
      operationId: deleteReel
      summary: Delete a reel
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/reels/{id}/comments':
    get:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
      responses:
        '200':
          description: List of comments
          schema:
            $ref: '#/definitions/CommentListResponse'
        '404':
          description: Reel not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Retrieve comments for a specific reel
      operationId: getReelComments
      summary: Get comments for a reel
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CommentRequest'
      responses:
        '201':
          description: Comment added successfully
          schema:
            $ref: '#/definitions/CommentResponse'
        '400':
          description: Invalid request
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Add a comment to a specific reel
      operationId: addReelComment
      summary: Add a comment to a reel
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/reels/{id}/like':
    delete:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Reel unliked
          schema:
            $ref: '#/definitions/LikeResponse'
        '404':
          description: Reel not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Remove like from a specific reel
      operationId: unlikeReel
      summary: Unlike a reel
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Reel liked
          schema:
            $ref: '#/definitions/LikeResponse'
        '404':
          description: Reel not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Like a specific reel
      operationId: likeReel
      summary: Like a reel
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/stories:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateStoryRequest'
      responses:
        '201':
          description: Story created successfully
          schema:
            $ref: '#/definitions/StoryResponse'
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - content
      description: Create a new community story with image and location details
      operationId: createStory
      summary: Create a new story
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/stories/my:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: List of current user's stories
          schema:
            $ref: '#/definitions/StoryListResponse'
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - content
      description: Retrieve stories created by the authenticated user
      operationId: getUserStories
      summary: Get current user's stories
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/stories/{id}':
    delete:
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '204':
          description: Story deleted successfully
        '404':
          description: Story not found
      security:
        - jwtAuth: []
      tags:
        - content
      description: Delete a story by ID (only by the story owner)
      operationId: deleteStory
      summary: Delete a story
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/stories/{id}/comments':
    get:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
      responses:
        '200':
          description: List of comments
          schema:
            $ref: '#/definitions/CommentListResponse'
        '404':
          description: Story not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Retrieve comments for a specific story
      operationId: getStoryComments
      summary: Get comments for a story
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CommentRequest'
      responses:
        '201':
          description: Comment added successfully
          schema:
            $ref: '#/definitions/CommentResponse'
        '400':
          description: Invalid request
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Add a comment to a specific story
      operationId: addStoryComment
      summary: Add a comment to a story
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/stories/{id}/like':
    delete:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Story unliked
          schema:
            $ref: '#/definitions/LikeResponse'
        '404':
          description: Story not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Remove like from a specific story
      operationId: unlikeStory
      summary: Unlike a story
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Story liked
          schema:
            $ref: '#/definitions/LikeResponse'
        '404':
          description: Story not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Like a specific story
      operationId: likeStory
      summary: Like a story
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/stories/{id}/view':
    put:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: View count incremented
          schema:
            $ref: '#/definitions/ViewCountResponse'
        '404':
          description: Story not found
      security:
        - jwtAuth: []
      tags:
        - engagement
      description: Increment the view count for a specific story
      operationId: incrementStoryViews
      summary: Increment view count for a story
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/travel-plans:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
        - in: query
          name: is_draft
          type: boolean
      responses:
        '200':
          description: List of travel plans
          schema:
            $ref: '#/definitions/TravelPlanListResponse'
        '400':
          description: Invalid request parameters
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Retrieve travel plans for the authenticated user
      operationId: getTravelPlans
      summary: Get user's travel plans
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateTravelPlanRequest'
      responses:
        '201':
          description: Travel plan created successfully
          schema:
            $ref: '#/definitions/TravelPlanResponse'
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Create a new travel plan (draft or published)
      operationId: createTravelPlan
      summary: Create a travel plan
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /community/travel-plans/discover:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
        - in: query
          name: location
          type: string
        - in: query
          name: is_confirmed
          type: boolean
      responses:
        '200':
          description: List of discoverable travel plans
          schema:
            $ref: '#/definitions/TravelPlanListResponse'
        '400':
          description: Invalid request parameters
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Retrieve discoverable (published) travel plans from all users
      operationId: getDiscoverablePlans
      summary: Discover travel plans
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/travel-plans/{id}':
    delete:
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '204':
          description: Travel plan deleted successfully
        '403':
          description: Unauthorized
        '404':
          description: Travel plan not found
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Delete a travel plan (only by the plan owner)
      operationId: deleteTravelPlan
      summary: Delete travel plan
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    get:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Travel plan details
          schema:
            $ref: '#/definitions/TravelPlanResponse'
        '404':
          description: Travel plan not found
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Retrieve details for a specific travel plan
      operationId: getTravelPlan
      summary: Get travel plan details
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateTravelPlanRequest'
      responses:
        '200':
          description: Travel plan updated successfully
          schema:
            $ref: '#/definitions/TravelPlanResponse'
        '403':
          description: Unauthorized
        '404':
          description: Travel plan not found
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Update an existing travel plan (only by the plan owner)
      operationId: updateTravelPlan
      summary: Update travel plan
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/travel-plans/{id}/connect':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/ConnectToPlanRequest'
      responses:
        '201':
          description: Connection created successfully
          schema:
            $ref: '#/definitions/ConnectionResponse'
        '400':
          description: Invalid request
        '404':
          description: Travel plan not found
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Reach out to a travel plan (express interest)
      operationId: connectToTravelPlan
      summary: Connect to travel plan
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/travel-plans/{id}/connections':
    get:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
      responses:
        '200':
          description: List of connections
          schema:
            $ref: '#/definitions/ConnectionListResponse'
        '404':
          description: Travel plan not found
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Retrieve connections (interests) for a travel plan
      operationId: getPlanConnections
      summary: Get plan connections
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/travel-plans/{id}/connections/{connectionId}':
    delete:
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: path
          name: connectionId
          required: true
          type: string
      responses:
        '204':
          description: Connection removed successfully
        '403':
          description: Unauthorized
        '404':
          description: Travel plan or connection not found
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: >-
        Remove a connection from a travel plan (by plan owner or connection
        owner)
      operationId: removeConnection
      summary: Remove connection
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/community/travel-plans/{id}/publish':
    post:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Travel plan published successfully
          schema:
            $ref: '#/definitions/TravelPlanResponse'
        '403':
          description: Unauthorized
        '404':
          description: Travel plan not found
      security:
        - jwtAuth: []
      tags:
        - travel-plans
      description: Publish a draft travel plan (make it discoverable)
      operationId: publishTravelPlan
      summary: Publish travel plan
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /conversations:
    get:
      produces:
        - application/json
      parameters:
        - default: 20
          description: Maximum number of conversations to return
          in: query
          maximum: 100
          minimum: 1
          name: limit
          required: false
          type: integer
        - description: >-
            Cursor token for pagination (conversation ID). Use the value from
            the previous response's `next_cursor` when `has_more` is true.
          in: query
          name: cursor
          required: false
          type: string
        - description: Filter conversations by type
          enum:
            - direct
            - group
          in: query
          name: type
          required: false
          type: string
      responses:
        '200':
          description: List of conversations (cursor-based pagination)
          schema:
            properties:
              data:
                properties:
                  conversations:
                    items:
                      $ref: '#/definitions/Conversation'
                    type: array
                  has_more:
                    description: Whether there are more conversations beyond this page
                    example: false
                    type: boolean
                  next_cursor:
                    description: >-
                      Cursor token for the next page; present when `has_more` is
                      true
                    example: 3b6a45ca-f555-46d6-95fa-62ffe4bb951a
                    type: string
                  total:
                    description: Total number of conversations returned in this response
                    example: 2
                    type: integer
                type: object
              message:
                description: Optional success message
                type: string
              success:
                example: true
                type: boolean
            required:
              - success
              - data
            type: object
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - conversations
      description: Get all conversations for the authenticated user
      operationId: listConversations
      summary: List user conversations
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateConversationRequest'
      responses:
        '201':
          description: Conversation created successfully
          schema:
            allOf:
              - $ref: '#/definitions/SuccessResponse'
              - properties:
                  data:
                    $ref: '#/definitions/Conversation'
                type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '409':
          description: Conversation already exists
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - conversations
      description: Create a new conversation between users
      operationId: createConversation
      summary: Create a new conversation
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /conversations/find:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/FindConversationRequest'
      responses:
        '200':
          description: Conversation found or empty list if none
          schema:
            items:
              $ref: '#/definitions/Conversation'
            type: array
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - conversations
      description: >-
        Find an existing direct conversation by participants and listing
        metadata
      operationId: findConversation
      summary: Find an existing conversation
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /conversations/heartbeat:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Service is healthy
          schema:
            example: OK
            type: string
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/Error'
      security: []
      tags:
        - conversations
      description: Health check endpoint for the booking service.
      operationId: conversationHeartBeat
      summary: Heartbeat
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/conversations/{conversationId}':
    delete:
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the conversation
          in: path
          name: conversationId
          required: true
          type: string
      responses:
        '204':
          description: Conversation archived successfully
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - conversations
      description: Archive a conversation (soft delete)
      operationId: archiveConversation
      summary: Archive conversation
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    get:
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the conversation
          in: path
          name: conversationId
          required: true
          type: string
      responses:
        '200':
          description: Conversation details
          schema:
            allOf:
              - $ref: '#/definitions/SuccessResponse'
              - properties:
                  data:
                    $ref: '#/definitions/Conversation'
                type: object
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - conversations
      description: Get details of a specific conversation
      operationId: getConversation
      summary: Get conversation details
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the conversation
          in: path
          name: conversationId
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateConversationRequest'
      responses:
        '200':
          description: Conversation updated successfully
          schema:
            $ref: '#/definitions/Conversation'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - conversations
      description: 'Update conversation settings (archive, mute, etc.)'
      operationId: updateConversation
      summary: Update conversation
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/conversations/{conversationId}/messages':
    get:
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the conversation
          in: path
          name: conversationId
          required: true
          type: string
        - default: 50
          description: Maximum number of messages to return
          in: query
          maximum: 100
          minimum: 1
          name: limit
          required: false
          type: integer
        - description: Get messages before this timestamp (ISO 8601)
          format: date-time
          in: query
          name: before
          required: false
          type: string
        - description: Get messages after this timestamp (ISO 8601)
          format: date-time
          in: query
          name: after
          required: false
          type: string
      responses:
        '200':
          description: List of messages
          schema:
            allOf:
              - $ref: '#/definitions/ListResponse'
              - properties:
                  data:
                    items:
                      $ref: '#/definitions/Message'
                    type: array
                type: object
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Messages
      description: Get messages from a specific conversation
      operationId: getMessages
      summary: Get conversation messages
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the conversation
          in: path
          name: conversationId
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/SendMessageRequest'
      responses:
        '201':
          description: Message sent successfully
          schema:
            allOf:
              - $ref: '#/definitions/SuccessResponse'
              - properties:
                  data:
                    $ref: '#/definitions/Message'
                type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Messages
      description: Send a new message to a conversation
      operationId: sendMessage
      summary: Send a message
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/conversations/{conversationId}/poll':
    get:
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the conversation
          in: path
          name: conversationId
          required: true
          type: string
        - default: 50
          description: Maximum number of messages to return
          in: query
          maximum: 100
          minimum: 1
          name: limit
          required: false
          type: integer
        - description: Get messages since this timestamp (ISO 8601)
          format: date-time
          in: query
          name: since
          required: false
          type: string
      responses:
        '200':
          description: New messages since last poll
          schema:
            properties:
              has_more:
                description: Whether there are more messages
                type: boolean
              messages:
                items:
                  $ref: '#/definitions/Message'
                type: array
            type: object
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Real-time
      description: >-
        Poll for new messages in a conversation (replaces WebSocket for offline
        messaging)
      operationId: pollMessages
      summary: Poll for new messages
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/conversations/{conversationId}/read':
    put:
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the conversation
          in: path
          name: conversationId
          required: true
          type: string
      responses:
        '200':
          description: All messages marked as read
          schema:
            properties:
              updated_count:
                description: Number of messages marked as read
                type: integer
            type: object
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Messages
      description: Mark all messages in a conversation as read by the current user
      operationId: markAllMessagesAsRead
      summary: Mark all messages as read
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/conversations/{conversationId}/typing':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the conversation
          in: path
          name: conversationId
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/TypingIndicatorRequest'
      responses:
        '200':
          description: Typing indicator sent
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Real-time
      description: Send typing indicator to other participants
      operationId: sendTypingIndicator
      summary: Send typing indicator
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/devices/anonymous/{device_id}/interests':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Anonymous device identifier returned from /devices/anonymous
          in: path
          name: device_id
          required: true
          type: string
        - description: Anonymous device interest data
          in: body
          name: body
          required: true
          schema:
            properties:
              listing_id:
                description: ID of the listing the device showed interest in
                type: string
              platform:
                description: 'Optional platform hint (ios, android, web)'
                type: string
              source:
                description: >-
                  Optional source of the interest (e.g. 'listing_detail',
                  'book_cta')
                type: string
            required:
              - listing_id
            type: object
      responses:
        '200':
          description: Anonymous interest registered successfully
          schema:
            properties:
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Anonymous interest registered successfully
                type: string
            required:
              - success
            type: object
        '400':
          description: Invalid request (missing device_id or listing_id)
          schema:
            properties:
              error:
                example: Missing required fields
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            properties:
              error:
                example: An unexpected error occurred
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: >-
        Records a listing interest for an anonymous device (pre-auth
        marketing/remarketing).
      operationId: registerAnonymousDeviceInterest
      summary: Register anonymous device interest in a listing
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /documents:
    delete:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The document deletion request
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/DocumentRequest'
      responses:
        '200':
          description: Files deleted successfully
          schema:
            properties:
              data:
                description: Information about the deleted files
                type: object
              error:
                example: ''
                type: string
              success:
                example: true
                type: boolean
              toast:
                description: Localized success message
                example: Documents deleted successfully
                type: string
            required:
              - success
              - data
              - toast
              - error
            type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - document
      description: Delete files from Google Cloud Storage. Currently not implemented.
      operationId: documentsDeleteFiles
      summary: Delete files
      x-google-backend:
        address: 'https://document-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The document overwrite request
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/DocumentRequest'
      responses:
        '200':
          description: Files overwritten successfully
          schema:
            properties:
              data:
                description: Information about the overwritten files
                type: object
              error:
                example: ''
                type: string
              success:
                example: true
                type: boolean
              toast:
                description: Localized success message
                example: Documents overwritten successfully
                type: string
            required:
              - success
              - data
              - toast
              - error
            type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - document
      description: >-
        Overwrite existing files in Google Cloud Storage. Currently not
        implemented.
      operationId: documentsOverwriteFiles
      summary: Overwrite files
      x-google-backend:
        address: 'https://document-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The document upload request
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/DocumentRequest'
      responses:
        '201':
          description: Files uploaded successfully
          schema:
            properties:
              data:
                properties:
                  urls:
                    description: Array of uploaded file URLs
                    items:
                      format: uri
                      type: string
                    type: array
                required:
                  - urls
                type: object
              error:
                example: ''
                type: string
              success:
                example: true
                type: boolean
              toast:
                description: Localized success message
                example: Documents uploaded successfully
                type: string
            required:
              - success
              - data
              - toast
              - error
            type: object
        '400':
          description: Bad request (invalid request body or validation failed)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error (failed to upload or decode files)
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - document
      description: >-
        Upload one or more files to Google Cloud Storage. Files are base64
        encoded in the request body.
      operationId: documentsUploadFiles
      summary: Upload files
      x-google-backend:
        address: 'https://document-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /documents/heartbeat:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Heartbeat
          schema:
            type: string
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security: []
      tags:
        - document
      description: >-
        Returns a simple heartbeat response to verify the Document service is
        running.
      operationId: documentsHeartbeat
      summary: Heartbeat
      x-google-backend:
        address: 'https://document-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /events:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          in: query
          name: page
          type: integer
        - default: 10
          in: query
          name: limit
          type: integer
        - in: query
          name: country
          type: string
      responses:
        '200':
          description: List of events
          schema:
            $ref: '#/definitions/EventListResponse'
        '400':
          description: Invalid request parameters
      security:
        - jwtAuth: []
      tags:
        - events
      description: Retrieve a paginated list of available events
      operationId: getEvents
      summary: List events
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateEventRequest'
      responses:
        '201':
          description: Event created successfully
          schema:
            $ref: '#/definitions/EventResponse'
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
      security:
        - jwtAuth: []
      tags:
        - events
      description: Create a new community event
      operationId: createEvent
      summary: Create a new event
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/events/{id}/join':
    post:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '201':
          description: Successfully joined event
          schema:
            $ref: '#/definitions/EventJoinResponse'
        '400':
          description: Invalid request
        '404':
          description: Event not found
      security:
        - jwtAuth: []
      tags:
        - events
      description: Join a specific event
      operationId: joinEvent
      summary: Join an event
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/experiences/{id}':
    delete:
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '204':
          description: Experience deleted successfully
        '404':
          description: Experience not found
      security:
        - jwtAuth: []
      tags:
        - experiences
      description: Delete an experience (only by the experience owner)
      operationId: deleteExperience
      summary: Delete experience
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    get:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Experience details
          schema:
            $ref: '#/definitions/ExperienceResponse'
        '404':
          description: Experience not found
      security:
        - jwtAuth: []
      tags:
        - experiences
      description: Retrieve details for a specific experience
      operationId: getExperience
      summary: Get experience details
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateExperienceRequest'
      responses:
        '200':
          description: Experience updated successfully
          schema:
            $ref: '#/definitions/ExperienceResponse'
        '404':
          description: Experience not found
      security:
        - jwtAuth: []
      tags:
        - experiences
      description: Update an existing experience (only by the experience owner)
      operationId: updateExperience
      summary: Update experience
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/guides/{id}':
    get:
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Guide profile
          schema:
            $ref: '#/definitions/GuideResponse'
        '404':
          description: Guide not found
      security:
        - jwtAuth: []
      tags:
        - guides
      description: Retrieve details for a specific guide
      operationId: getGuide
      summary: Get guide profile
      x-google-backend:
        address: 'https://community-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /health:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Service is healthy
          schema:
            $ref: '#/definitions/HealthResponse'
            properties:
              status:
                enum:
                  - healthy
                  - unhealthy
                type: string
              timestamp:
                format: date-time
                type: string
              version:
                type: string
            type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
            properties:
              error:
                type: string
              status:
                enum:
                  - healthy
                  - unhealthy
                type: string
              timestamp:
                format: date-time
                type: string
            type: object
        '503':
          description: Service is unhealthy
          schema:
            $ref: '#/definitions/ErrorResponse'
      security: []
      tags:
        - conversations
      description: Check service health status
      operationId: healthCheck
      summary: Health check
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings:
    get:
      produces:
        - application/json
      parameters:
        - description: Keyword search (title/description)
          in: query
          name: q
          required: false
          type: string
        - description: Latitude of the user's location
          format: double
          in: query
          name: latitude
          required: false
          type: number
        - description: Longitude of the user's location
          format: double
          in: query
          name: longitude
          required: false
          type: number
        - description: >-
            Category code from CategoryMeta registry. If provided, must be a
            valid category code; empty values are rejected with 400.
          in: query
          name: category
          required: false
          type: string
        - description: 'ISO2 country code to filter listings (e.g., CA)'
          in: query
          name: country
          required: false
          type: string
        - description: City name to filter listings (exact match)
          in: query
          name: city
          required: false
          type: string
        - description: Start date for availability check (ISO 8601)
          format: date-time
          in: query
          name: start_date
          required: false
          type: string
        - description: End date for availability check (ISO 8601)
          format: date-time
          in: query
          name: end_date
          required: false
          type: string
        - description: Minimum price filter
          format: double
          in: query
          name: price_min
          required: false
          type: number
        - description: Maximum price filter
          format: double
          in: query
          name: price_max
          required: false
          type: number
        - description: Filter by host gender
          in: query
          name: gender
          required: false
          type: string
        - default: 1
          description: Page number (starts at 1)
          in: query
          minimum: 1
          name: page
          required: false
          type: integer
        - default: 10
          description: Number of items per page
          in: query
          maximum: 100
          minimum: 1
          name: limit
          required: false
          type: integer
        - description: Offset for pagination (alternative to page)
          in: query
          minimum: 0
          name: offset
          required: false
          type: integer
      responses:
        '200':
          description: All listings
          schema:
            properties:
              data:
                items:
                  properties:
                    active:
                      type: boolean
                    amenities:
                      items:
                        type: string
                      type: array
                    available:
                      type: boolean
                    cancellation_policy:
                      type: string
                    category:
                      properties:
                        code:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                      type: object
                    created_at:
                      format: date-time
                      type: string
                    deleted_at:
                      description: Timestamp when listing was soft deleted
                      format: date-time
                      type: string
                      x-nullable: true
                    description:
                      type: string
                    distance:
                      format: double
                      type: number
                    id:
                      type: string
                    instant_book:
                      type: boolean
                    location:
                      properties:
                        latitude:
                          format: double
                          type: number
                        longitude:
                          format: double
                          type: number
                      type: object
                    max_guests:
                      format: int32
                      type: integer
                    price:
                      format: double
                      type: number
                    rating:
                      format: double
                      type: number
                    status:
                      description: Current status of the listing
                      enum:
                        - draft
                        - pending
                        - active
                        - paused
                        - archived
                        - deleted
                      type: string
                    thumbnail:
                      format: uri
                      type: string
                    title:
                      type: string
                    verified:
                      description: Indicates if the listing has been verified
                      type: boolean
                  type: object
                type: array
              page:
                properties:
                  limit:
                    description: Number of items per page
                    type: integer
                  page:
                    description: Current page number
                    type: integer
                  total:
                    description: Total number of items
                    type: integer
                  totalPages:
                    description: Total number of pages
                    type: integer
                required:
                  - page
                  - limit
                  - total
                  - totalPages
                type: object
              success:
                type: boolean
              toast:
                type: string
            required:
              - success
              - data
              - page
            type: object
        '400':
          description: Bad request (invalid parameters)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - listing
      description: >-
        Returns listings with optional filters. Supports keyword search,
        amenities (CSV up to 10), price range, dates, rating, gender, and
        pagination via limit/offset.
      operationId: listingsGetAllListings
      summary: Get all listings
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The listing to create
          in: body
          name: body
          required: true
          schema:
            properties:
              host:
                properties:
                  id:
                    type: string
                type: object
              accept_same_day_booking:
                description: >
                  Allows same-day bookings (check-in and check-out on same date,
                  different times).

                  Default: false (opt-in model - hosts must explicitly enable).
                type: boolean
              address:
                properties:
                  city:
                    type: string
                  country:
                    type: string
                  flag:
                    type: string
                  postal_code:
                    type: string
                  province:
                    type: string
                  street:
                    type: string
                  unit_number:
                    type: string
                required:
                  - street
                  - city
                  - country
                  - postal_code
                type: object
              amenities:
                items:
                  type: string
                maxLength: 20
                type: array
              baggage_drop:
                default: false
                description: >-
                  Baggage drop allowed by host so guests can drop off their bags
                  first while they explore the city.
                type: boolean
              cancellation_policy:
                default: fifty_percent_24h
                description: >-
                  Cancellation policy code. Default is fifty_percent_24h. Legacy
                  values (No refunds, 50% - 50% refund, 100% - Full Refund) are
                  still accepted for backward compatibility.
                enum:
                  - no_refund
                  - fifty_percent_24h
                  - fifty_percent_48h
                  - full_refund_24h
                type: string
              category_code:
                description: Category code from CategoryMeta registry
                enum:
                  - couchsurf
                  - workspace
                  - storage
                  - bike_rental
                  - shower
                  - parking
                  - nightlife
                  - meeting_room
                  - kitchen
                  - retail_space
                  - classroom
                  - lounge
                  - studio
                  - playroom
                  - charging_station
                  - ride_share
                  - cleaning
                  - bike_rentals
                example: couchsurf
                type: string
              description:
                type: string
              house_rules:
                items:
                  type: string
                maxLength: 5
                type: array
              instant_book:
                type: boolean
              max_guests:
                format: int32
                type: integer
              photos:
                items:
                  format: uri
                  minimum: 3
                  type: string
                maxItems: 10
                type: array
              price:
                format: double
                type: number
              thumbnail:
                format: uri
                type: string
              title:
                type: string
            required:
              - title
              - description
              - price
              - thumbnail
              - max_guests
              - instant_book
              - photos
              - host
              - amenities
              - house_rules
              - cancellation_policy
              - address
              - category_code
            type: object
      responses:
        '201':
          description: The created listing
          schema:
            properties:
              data:
                properties:
                  host:
                    type: object
                  active:
                    type: boolean
                  amenities:
                    items:
                      type: string
                    type: array
                  available:
                    type: boolean
                  cancellation_policy:
                    type: string
                  category:
                    type: object
                  created_at:
                    format: date-time
                    type: string
                  deleted_at:
                    description: Timestamp when listing was soft deleted
                    format: date-time
                    type: string
                    x-nullable: true
                  description:
                    type: string
                  distance:
                    format: double
                    type: number
                  house_rules:
                    items:
                      type: string
                    type: array
                  id:
                    type: string
                  instant_book:
                    type: boolean
                  location:
                    properties:
                      latitude:
                        format: double
                        type: number
                      longitude:
                        format: double
                        type: number
                    type: object
                  max_guests:
                    format: int32
                    type: integer
                  photos:
                    items:
                      format: uri
                      type: string
                    type: array
                  price:
                    format: double
                    minimum: 10
                    type: number
                  rating:
                    format: double
                    type: number
                  status:
                    description: Current status of the listing
                    enum:
                      - draft
                      - pending
                      - active
                      - paused
                      - archived
                      - deleted
                    type: string
                  thumbnail:
                    format: uri
                    type: string
                  title:
                    maxLength: 64
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  verified:
                    description: Indicates if the listing has been verified
                    type: boolean
                type: object
              success:
                type: boolean
              toast:
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request (invalid listing data)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Create a new listing with full validation. This endpoint is used for
        publishing final listings and can also be called automatically when a
        draft listing status changes from 'pending' to 'active' after review
        approval.
      operationId: listingsCreateListing
      summary: Create a new listing (publish)
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/address:
    get:
      produces:
        - application/json
      parameters:
        - description: Address to search for (partial or full address string)
          in: query
          name: q
          required: true
          type: string
        - description: Latitude of the user's location (for proximity ranking)
          format: double
          in: query
          name: lat
          required: true
          type: number
        - description: Longitude of the user's location (for proximity ranking)
          format: double
          in: query
          name: lon
          required: true
          type: number
      responses:
        '200':
          description: Address suggestions
          schema:
            properties:
              data:
                items:
                  properties:
                    address:
                      properties:
                        city:
                          type: string
                        country:
                          type: string
                        flag:
                          type: string
                        postal_code:
                          type: string
                        province:
                          type: string
                        street:
                          type: string
                        unit_number:
                          type: string
                      required:
                        - street
                        - city
                        - country
                        - postal_code
                      type: object
                    description:
                      type: string
                    place_id:
                      type: string
                  required:
                    - address
                    - description
                    - place_id
                  type: object
                type: array
              meta:
                properties:
                  total:
                    description: Total number of suggestions
                    type: integer
                required:
                  - total
                type: object
              success:
                type: boolean
            required:
              - success
              - data
              - meta
            type: object
        '400':
          description: Bad request (invalid query)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >
        Returns a list of address suggestions based on the user's query and
        location. Useful for implementing address autocomplete features in the
        UI.
      operationId: listingsAddressAutoComplete
      summary: Address auto complete
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/categories:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: All available categories
          schema:
            properties:
              data:
                items:
                  properties:
                    code:
                      type: string
                    description:
                      type: string
                    icon:
                      type: string
                    name:
                      type: string
                    verb:
                      type: string
                  type: object
                type: array
              meta:
                type: object
              success:
                type: boolean
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request
          schema:
            properties:
              error:
                type: string
              success:
                type: boolean
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Returns a list of all available listing categories and their metadata
        (code, name, description, verb, icon).
      operationId: categoriesGetAllCategories
      summary: Get all available categories
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/dashboard/{section}':
    get:
      produces:
        - application/json
      parameters:
        - description: Dashboard section to retrieve
          enum:
            - essential
            - sections-config
            - popular-destinations
            - free
            - near-me
            - lgbtq-friendly
            - top-rated
            - instant-book
            - recently-added
            - community-stories
          in: path
          name: section
          required: true
          type: string
        - default: 8
          description: Maximum number of results (default varies by section)
          format: int32
          in: query
          name: limit
          required: false
          type: integer
        - default: 0
          description: Offset for pagination (default 0)
          format: int32
          in: query
          name: offset
          required: false
          type: integer
        - description: Filter by country code (applicable to some sections)
          in: query
          name: country
          required: false
          type: string
        - description: Filter by city name (applicable to some sections)
          in: query
          name: city
          required: false
          type: string
        - description: User's latitude (required for near-me section)
          format: double
          in: query
          name: lat
          required: false
          type: number
        - description: User's longitude (required for near-me section)
          format: double
          in: query
          name: lng
          required: false
          type: number
        - default: 25km
          description: 'Search radius for near-me section (e.g., "25km", "10mi")'
          in: query
          name: radius
          required: false
          type: string
        - default: 4.8
          description: Minimum rating filter for top-rated section (default 4.8)
          format: double
          in: query
          name: min_rating
          required: false
          type: number
      responses:
        '200':
          description: Successful dashboard section data retrieval
          schema:
            properties:
              data: {}
              meta:
                properties:
                  cache_key:
                    type: string
                  expires_in:
                    type: integer
                  section:
                    description: The requested section name
                    type: string
                  timestamp:
                    format: date-time
                    type: string
                type: object
              success:
                type: boolean
            required:
              - success
              - data
              - meta
            type: object
        '400':
          description: Bad request (invalid section or missing required parameters)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Section not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security: []
      tags:
        - listing
      description: >-
        Returns data for a specific dashboard section (essential,
        sections-config, popular-destinations, free, near-me, lgbtq-friendly,
        top-rated, instant-book, recently-added, community-stories)
      operationId: dashboardSection
      summary: Get dashboard section data
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/drafts:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: >-
            The listing draft data. Only title is required, all other fields are
            optional for drafts.
          in: body
          name: body
          required: true
          schema:
            additionalProperties: false
            properties:
              host:
                description: Host information
                properties:
                  id:
                    type: string
                type: object
              address:
                description: Address information (partial acceptable for drafts)
                properties:
                  city:
                    type: string
                  country:
                    type: string
                  flag:
                    type: string
                  postal_code:
                    type: string
                  province:
                    type: string
                  street:
                    type: string
                  unit_number:
                    type: string
                type: object
              amenities:
                description: List of available amenities
                items:
                  type: string
                maxLength: 20
                type: array
              baggage_drop:
                default: false
                description: >-
                  Baggage drop allowed by host so guests can drop off their bags
                  first while they explore the city.
                type: boolean
              cancellation_policy:
                default: fifty_percent_24h
                description: >-
                  Cancellation policy code. Default is fifty_percent_24h. Legacy
                  values (No refunds, 50% - 50% refund, 100% - Full Refund) are
                  still accepted for backward compatibility.
                enum:
                  - no_refund
                  - fifty_percent_24h
                  - fifty_percent_48h
                  - full_refund_24h
                type: string
              category_code:
                description: Category of the listing
                enum:
                  - couch_surfing
                  - co_working
                  - storages
                  - meeting_room
                  - kitchen
                  - retail_space
                  - classroom
                  - lounge
                  - shower
                  - studio
                  - playroom
                  - charging_station
                  - relax
                  - nightlife
                  - ride_share
                  - cleaning
                  - bike_rentals
                type: string
              description:
                description: Description of the listing
                type: string
              house_rules:
                description: House rules for guests
                items:
                  type: string
                maxLength: 5
                type: array
              instant_book:
                description: Whether instant booking is enabled
                type: boolean
              max_guests:
                description: Maximum number of guests
                format: int32
                minimum: 1
                type: integer
              photos:
                description: Array of photo URLs (minimum 3 required for publishing)
                items:
                  format: uri
                  type: string
                maxItems: 10
                type: array
              price:
                description: Price per hour/day
                format: double
                minimum: 0
                type: number
              thumbnail:
                description: Main thumbnail image URL
                format: uri
                type: string
              title:
                description: Title of the listing (required for drafts)
                maxLength: 64
                type: string
            required:
              - title
            type: object
      responses:
        '201':
          description: Draft saved successfully
          schema:
            properties:
              data:
                properties:
                  host:
                    type: object
                    x-nullable: true
                  active:
                    default: false
                    type: boolean
                  amenities:
                    default: []
                    items:
                      type: string
                    type: array
                  available:
                    default: true
                    type: boolean
                  cancellation_policy:
                    type: string
                    x-nullable: true
                  category:
                    type: object
                    x-nullable: true
                  created_at:
                    format: date-time
                    type: string
                  deleted_at:
                    description: Timestamp when listing was soft deleted
                    format: date-time
                    type: string
                    x-nullable: true
                  description:
                    type: string
                  distance:
                    format: double
                    type: number
                    x-nullable: true
                  house_rules:
                    default: []
                    items:
                      type: string
                    type: array
                  id:
                    description: Unique identifier for the listing
                    type: string
                  instant_book:
                    type: boolean
                    x-nullable: true
                  location:
                    properties:
                      latitude:
                        format: double
                        type: number
                      longitude:
                        format: double
                        type: number
                    type: object
                    x-nullable: true
                  max_guests:
                    format: int32
                    type: integer
                    x-nullable: true
                  photos:
                    default: []
                    items:
                      format: uri
                      type: string
                    type: array
                  price:
                    format: double
                    minimum: 0
                    type: number
                    x-nullable: true
                  rating:
                    default: 0
                    format: double
                    type: number
                  status:
                    default: draft
                    description: >-
                      Current status of the listing (will always be 'draft' for
                      this endpoint)
                    enum:
                      - draft
                    type: string
                  thumbnail:
                    format: uri
                    type: string
                    x-nullable: true
                  title:
                    maxLength: 64
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  verified:
                    default: false
                    description: Indicates if the listing has been verified
                    type: boolean
                required:
                  - id
                  - title
                  - status
                  - created_at
                  - updated_at
                type: object
              success:
                example: true
                type: boolean
              toast:
                example: Draft saved successfully
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request (invalid draft data)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Title is required for draft listings.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please provide a title for your listing.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid or missing authentication token.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please log in to continue.
                type: string
            required:
              - success
              - error
            type: object
        '422':
          description: Validation error
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: 'Validation failed: title must be at least 1 character long.'
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please check your input and try again.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Something went wrong. Please try again.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Save a listing draft with minimal validation. Allows users to save
        incomplete listing data that can be completed later. The status will be
        automatically set to 'draft'.
      operationId: listingsCreateDraft
      summary: Save listing draft
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Draft listing ID to update
          in: query
          name: id
          required: true
          type: string
        - description: The updated listing draft data. All fields are optional.
          in: body
          name: body
          required: true
          schema:
            additionalProperties: false
            properties:
              host:
                description: Host information
                properties:
                  id:
                    type: string
                type: object
              address:
                description: Address information
                properties:
                  city:
                    type: string
                  country:
                    type: string
                  flag:
                    type: string
                  postal_code:
                    type: string
                  province:
                    type: string
                  street:
                    type: string
                  unit_number:
                    type: string
                type: object
              amenities:
                description: List of available amenities
                items:
                  type: string
                maxLength: 20
                type: array
              baggage_drop:
                default: false
                description: >-
                  Baggage drop allowed by host so guests can drop off their bags
                  first while they explore the city.
                type: boolean
              cancellation_policy:
                default: fifty_percent_24h
                description: >-
                  Cancellation policy code. Default is fifty_percent_24h. Legacy
                  values (No refunds, 50% - 50% refund, 100% - Full Refund) are
                  still accepted for backward compatibility.
                enum:
                  - no_refund
                  - fifty_percent_24h
                  - fifty_percent_48h
                  - full_refund_24h
                type: string
              category_code:
                description: Category of the listing
                enum:
                  - couch_surfing
                  - co_working
                  - storages
                  - meeting_room
                  - kitchen
                  - retail_space
                  - classroom
                  - lounge
                  - shower
                  - studio
                  - playroom
                  - charging_station
                  - relax
                  - nightlife
                  - ride_share
                  - cleaning
                  - bike_rentals
                type: string
              description:
                description: Description of the listing
                type: string
              house_rules:
                description: House rules for guests
                items:
                  type: string
                maxLength: 5
                type: array
              instant_book:
                description: Whether instant booking is enabled
                type: boolean
              max_guests:
                description: Maximum number of guests
                format: int32
                minimum: 1
                type: integer
              photos:
                description: Array of photo URLs
                items:
                  format: uri
                  type: string
                maxItems: 10
                type: array
              price:
                description: Price per hour/day
                format: double
                minimum: 0
                type: number
              thumbnail:
                description: Main thumbnail image URL
                format: uri
                type: string
              title:
                description: Title of the listing
                maxLength: 64
                type: string
            type: object
      responses:
        '200':
          description: Draft updated successfully
          schema:
            properties:
              data:
                properties:
                  host:
                    type: object
                    x-nullable: true
                  active:
                    type: boolean
                  amenities:
                    items:
                      type: string
                    type: array
                  available:
                    type: boolean
                  cancellation_policy:
                    type: string
                    x-nullable: true
                  category:
                    type: object
                    x-nullable: true
                  created_at:
                    format: date-time
                    type: string
                  deleted_at:
                    description: Timestamp when listing was soft deleted
                    format: date-time
                    type: string
                    x-nullable: true
                  description:
                    type: string
                  distance:
                    format: double
                    type: number
                    x-nullable: true
                  house_rules:
                    items:
                      type: string
                    type: array
                  id:
                    type: string
                  instant_book:
                    type: boolean
                    x-nullable: true
                  location:
                    properties:
                      latitude:
                        format: double
                        type: number
                      longitude:
                        format: double
                        type: number
                    type: object
                    x-nullable: true
                  max_guests:
                    format: int32
                    type: integer
                    x-nullable: true
                  photos:
                    items:
                      format: uri
                      type: string
                    type: array
                  price:
                    format: double
                    minimum: 0
                    type: number
                    x-nullable: true
                  rating:
                    format: double
                    type: number
                  status:
                    description: Current status of the listing
                    enum:
                      - draft
                    type: string
                  thumbnail:
                    format: uri
                    type: string
                    x-nullable: true
                  title:
                    maxLength: 64
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  verified:
                    description: Indicates if the listing has been verified
                    type: boolean
                required:
                  - id
                  - status
                  - created_at
                  - updated_at
                type: object
              success:
                example: true
                type: boolean
              toast:
                example: Draft updated successfully
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request (invalid data or listing is not a draft)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: 'Cannot update listing: not a draft or invalid data.'
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Only draft listings can be updated through this endpoint.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid or missing authentication token.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please log in to continue.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Draft listing not found or user doesn't have access
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Draft listing not found or access denied.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Draft listing not found.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Something went wrong. Please try again.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Update an existing draft listing. Only drafts can be updated through
        this endpoint. To publish a draft, use the main POST /listings endpoint.
      operationId: listingsUpdateDraft
      summary: Update listing draft
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/grouped:
    get:
      produces:
        - application/json
      parameters:
        - format: double
          in: query
          name: latitude
          required: false
          type: number
        - format: double
          in: query
          name: longitude
          required: false
          type: number
        - default: 10
          in: query
          name: limit
          required: false
          type: integer
      responses:
        '200':
          description: Grouped listings sample
          schema:
            properties:
              data:
                properties:
                  free:
                    items:
                      $ref: '#/definitions/Listing'
                    type: array
                  hot:
                    items:
                      $ref: '#/definitions/Listing'
                    type: array
                  instant_book:
                    items:
                      $ref: '#/definitions/Listing'
                    type: array
                  lgbtq_friendly:
                    items:
                      $ref: '#/definitions/Listing'
                    type: array
                  nearme:
                    items:
                      $ref: '#/definitions/Listing'
                    type: array
                  new:
                    items:
                      $ref: '#/definitions/Listing'
                    type: array
                  summary:
                    properties:
                      FreeCount:
                        type: integer
                      HotCount:
                        type: integer
                      InstantBookCount:
                        type: integer
                      LgbtqFriendlyCount:
                        type: integer
                      NearMeCount:
                        type: integer
                      NewCount:
                        type: integer
                      TopRatedCount:
                        type: integer
                      TrendingCount:
                        type: integer
                      groups:
                        description: >-
                          List of supported group names for individual fetches
                          (e.g., trending, new, nearme, hot, free,
                          uncategorized)
                        items:
                          description: >-
                            Name of the group (e.g., trending, new, nearme, hot,
                            free, uncategorized)
                          type: string
                        type: array
                    type: object
                  top_rated:
                    items:
                      $ref: '#/definitions/Listing'
                    type: array
                  trending:
                    items:
                      $ref: '#/definitions/Listing'
                    type: array
                type: object
              success:
                type: boolean
            type: object
        '400':
          description: Bad request (invalid parameters)
          schema:
            properties:
              error:
                type: string
              success:
                type: boolean
            type: object
      security: []
      tags:
        - listing
      description: >-
        Returns up to 10 listings for each group: trending, new, nearme, hot,
        free.
      operationId: listingsGetGroupedListings
      summary: Get grouped listings (sample for all groups)
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/heartbeat:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Heartbeat
          schema:
            type: string
        '400':
          description: Bad request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - listing
      description: >-
        Returns a simple heartbeat response to verify the Listing service is
        running.
      operationId: listingsHeartbeat
      summary: Heartbeat
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/locations/detect:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            properties:
              latitude:
                format: double
                type: number
              longitude:
                format: double
                type: number
            required:
              - latitude
              - longitude
            type: object
      responses:
        '200':
          description: Successful location detection
          schema:
            properties:
              data:
                properties:
                  fallback:
                    $ref: '#/definitions/LocationSearchResult'
                  location:
                    $ref: '#/definitions/DetectedLocation'
                type: object
              meta:
                properties:
                  detection_method:
                    type: string
                  processing_time_ms:
                    type: integer
                type: object
              success:
                type: boolean
            required:
              - success
              - data
              - meta
            type: object
        '400':
          description: Bad request (invalid coordinates)
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security: []
      tags:
        - listing
      description: Detects user location via reverse geocoding with fallback
      operationId: locationsDetect
      summary: Reverse geocode detected user location
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/locations/popular:
    get:
      produces:
        - application/json
      parameters:
        - default: all
          description: Filter type (destinations|countries|all)
          enum:
            - destinations
            - countries
            - all
          in: query
          name: type
          required: false
          type: string
        - default: 20
          description: Maximum number of results (default 20)
          format: int32
          in: query
          name: limit
          required: false
          type: integer
      responses:
        '200':
          description: Successful popular locations retrieval
          schema:
            properties:
              data:
                $ref: '#/definitions/PopularLocations'
              meta:
                properties:
                  cache_duration:
                    type: integer
                  type:
                    type: string
                type: object
              success:
                type: boolean
            required:
              - success
              - data
              - meta
            type: object
        '400':
          description: Bad request (invalid parameters)
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security: []
      tags:
        - listing
      description: Returns popular destinations and countries for location selector
      operationId: locationsPopular
      summary: Get popular locations and countries
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/locations/search:
    get:
      produces:
        - application/json
      parameters:
        - description: Search query (min 2 characters)
          in: query
          minLength: 2
          name: q
          required: true
          type: string
        - default: 10
          description: Maximum number of results (default 10)
          format: int32
          in: query
          name: limit
          required: false
          type: integer
        - default: all
          description: Filter type (city|country|all)
          enum:
            - city
            - country
            - all
          in: query
          name: type
          required: false
          type: string
      responses:
        '200':
          description: Successful location search
          schema:
            properties:
              data:
                properties:
                  locations:
                    items:
                      $ref: '#/definitions/LocationSearchResult'
                    type: array
                type: object
              meta:
                properties:
                  query:
                    type: string
                  results_count:
                    type: integer
                  search_time_ms:
                    type: integer
                type: object
              success:
                type: boolean
            required:
              - success
              - data
              - meta
            type: object
        '400':
          description: Bad request (invalid query)
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security: []
      tags:
        - listing
      description: Searches for cities and countries based on a prefix query
      operationId: locationsSearch
      summary: Location search and autocomplete
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /listings/user:
    get:
      produces:
        - application/json
      parameters:
        - default: 1
          description: Page number (starts at 1)
          in: query
          minimum: 1
          name: page
          required: false
          type: integer
        - default: 10
          description: Number of items per page
          in: query
          maximum: 100
          minimum: 1
          name: limit
          required: false
          type: integer
        - description: 'Filter listings by status. If not provided, returns all statuses.'
          enum:
            - draft
            - pending
            - active
            - paused
            - archived
            - deleted
          in: query
          name: status
          required: false
          type: string
      responses:
        '200':
          description: All listings for the authenticated user
          schema:
            properties:
              data:
                items:
                  properties:
                    active:
                      type: boolean
                    amenities:
                      items:
                        type: string
                      type: array
                    available:
                      type: boolean
                    cancellation_policy:
                      type: string
                    category:
                      properties:
                        code:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                      type: object
                    created_at:
                      format: date-time
                      type: string
                    deleted_at:
                      description: Timestamp when listing was soft deleted
                      format: date-time
                      type: string
                      x-nullable: true
                    description:
                      type: string
                    distance:
                      format: double
                      type: number
                    id:
                      type: string
                    instant_book:
                      type: boolean
                    location:
                      properties:
                        latitude:
                          format: double
                          type: number
                        longitude:
                          format: double
                          type: number
                      type: object
                    max_guests:
                      format: int32
                      type: integer
                    price:
                      format: double
                      type: number
                    rating:
                      format: double
                      type: number
                    status:
                      description: Current status of the listing
                      enum:
                        - draft
                        - pending
                        - active
                        - paused
                        - archived
                        - deleted
                      type: string
                    thumbnail:
                      format: uri
                      type: string
                    title:
                      type: string
                    verified:
                      description: Indicates if the listing has been verified
                      type: boolean
                  type: object
                type: array
              meta:
                properties:
                  limit:
                    description: Number of items per page
                    type: integer
                  page:
                    description: Current page number
                    type: integer
                  pages:
                    description: Total number of pages
                    type: integer
                  total:
                    description: Total number of items
                    type: integer
                required:
                  - page
                  - limit
                  - total
                  - pages
                type: object
              success:
                type: boolean
              toast:
                type: string
            required:
              - success
              - data
              - meta
            type: object
        '400':
          description: Bad request (invalid parameters)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Returns all listings belonging to the currently authenticated user. User
        ID is extracted from the JWT token. Use this endpoint for "my listings"
        in the UI.
      operationId: listingsGetAllListingsForCurrentUser
      summary: Get all listings for the authenticated user ("my listings")
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/{id}':
    delete:
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Listing deleted
          schema:
            properties:
              id:
                description: The ID of the deleted listing
                type: string
              success:
                type: boolean
              toast:
                type: string
            required:
              - success
              - id
            type: object
        '400':
          description: Bad request (invalid ID)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Listing not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: Deletes a listing by its ID.
      operationId: listingsDeleteListing
      summary: Delete a listing
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    get:
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: The listing
          schema:
            properties:
              data:
                properties:
                  host:
                    type: object
                  active:
                    type: boolean
                  amenities:
                    items:
                      type: string
                    type: array
                  available:
                    type: boolean
                  cancellation_policy:
                    type: string
                  category:
                    type: object
                  created_at:
                    format: date-time
                    type: string
                  description:
                    type: string
                  distance:
                    format: double
                    type: number
                  house_rules:
                    items:
                      type: string
                    type: array
                  id:
                    type: string
                  instant_book:
                    type: boolean
                  location:
                    properties:
                      latitude:
                        format: double
                        type: number
                      longitude:
                        format: double
                        type: number
                    type: object
                  max_guests:
                    format: int32
                    type: integer
                  photos:
                    items:
                      format: uri
                      type: string
                    type: array
                  price:
                    format: double
                    minimum: 10
                    type: number
                  rating:
                    format: double
                    type: number
                  thumbnail:
                    format: uri
                    type: string
                  title:
                    maxLength: 64
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              success:
                type: boolean
              toast:
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request (invalid ID)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Listing not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: Returns the details of a single listing by its ID.
      operationId: listingsGetListing
      summary: Get a listing
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
        - description: >-
            Partial update request. All fields are optional. Only include fields
            you want to update.
          in: body
          name: body
          required: true
          schema:
            description: >-
              Partial update request. All fields are optional. Only include
              fields you want to update.
            properties:
              address:
                description: >-
                  Address object. When provided, the system will geocode the
                  address and update coordinates automatically.
                properties:
                  city:
                    type: string
                  country:
                    type: string
                  flag:
                    type: string
                  postal_code:
                    type: string
                  province:
                    type: string
                  street:
                    type: string
                  unit_number:
                    type: string
                type: object
              amenities:
                description: List of amenities
                items:
                  type: string
                type: array
              baggage_drop:
                description: >-
                  Baggage drop allowed by host so guests can drop off their bags
                  first while they explore the city.
                type: boolean
              cancellation_policy:
                description: >-
                  Cancellation policy code. Legacy values (No refunds, 50% - 50%
                  refund, 100% - Full Refund) are still accepted for backward
                  compatibility.
                enum:
                  - no_refund
                  - fifty_percent_24h
                  - fifty_percent_48h
                  - full_refund_24h
                type: string
              category_code:
                description: 'Category code (e.g., couchsurf, workspace, storage)'
                type: string
              check_in_instructions:
                description: Check-in instructions for guests
                maxLength: 1000
                type: string
              check_out_instructions:
                description: Check-out instructions for guests
                maxLength: 500
                type: string
              description:
                description: Listing description
                maxLength: 255
                minLength: 10
                type: string
              emergency_contact:
                description: Emergency contact information
                maxLength: 200
                type: string
              house_rules:
                description: List of house rules
                items:
                  type: string
                type: array
              instant_book:
                description: Whether instant booking is enabled
                type: boolean
              local_recommendations:
                description: Local recommendations for guests
                maxLength: 1000
                type: string
              max_guests:
                description: Maximum number of guests
                format: int32
                maximum: 3
                minimum: 1
                type: integer
              max_stay_days:
                description: Maximum stay duration in days
                format: int32
                maximum: 365
                minimum: 1
                type: integer
              min_stay_days:
                description: Minimum stay duration in days
                format: int32
                maximum: 30
                minimum: 1
                type: integer
              photos:
                description: Array of photo URLs
                items:
                  format: uri
                  type: string
                maxItems: 10
                minItems: 1
                type: array
              price:
                description: Price per night
                format: double
                maximum: 200
                minimum: 0
                type: number
              thumbnail:
                description: Thumbnail image URL
                format: uri
                type: string
              timezone:
                description: 'Timezone (e.g., America/Toronto)'
                type: string
              title:
                description: Listing title
                maxLength: 100
                minLength: 10
                type: string
              wifi_details:
                description: WiFi network details
                properties:
                  network_name:
                    maxLength: 100
                    type: string
                  notes:
                    maxLength: 200
                    type: string
                  password:
                    maxLength: 100
                    type: string
                type: object
            type: object
      responses:
        '200':
          description: Listing updated
          schema:
            properties:
              data:
                properties:
                  host:
                    type: object
                  active:
                    type: boolean
                  amenities:
                    items:
                      type: string
                    type: array
                  available:
                    type: boolean
                  cancellation_policy:
                    type: string
                  category:
                    type: object
                  created_at:
                    format: date-time
                    type: string
                  description:
                    type: string
                  distance:
                    format: double
                    type: number
                  house_rules:
                    items:
                      type: string
                    type: array
                  id:
                    type: string
                  instant_book:
                    type: boolean
                  location:
                    properties:
                      latitude:
                        format: double
                        type: number
                      longitude:
                        format: double
                        type: number
                    type: object
                  max_guests:
                    format: int32
                    type: integer
                  photos:
                    items:
                      format: uri
                      type: string
                    type: array
                  price:
                    format: double
                    minimum: 10
                    type: number
                  rating:
                    format: double
                    type: number
                  thumbnail:
                    format: uri
                    type: string
                  title:
                    maxLength: 64
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              success:
                type: boolean
              toast:
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: >-
            Bad request - Invalid request data, validation error, or no fields
            provided for update
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid request data or no fields provided for update
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized - Missing or invalid authentication token
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Unauthorized
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Authentication required
                type: string
            required:
              - success
              - error
            type: object
        '403':
          description: >-
            Forbidden - User is not authorized to update this listing (only
            listing host can update)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Only listing host can update
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: You don't have permission to update this listing
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Not found - Listing not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Listing not found
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: The listing you're looking for doesn't exist
                type: string
            required:
              - success
              - error
            type: object
        '500':
          description: Internal server error - Failed to update listing
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Failed to update listing
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >
        Updates the details of an existing listing by its ID. Supports
        partial/incremental updates.

        Only the listing host can update their listing. All fields are optional
        - only include the fields you want to update.

        When updating the address, the system will automatically geocode the new
        address and update coordinates.
      operationId: listingsUpdateListing
      summary: Update a listing
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/{id}/availability':
    get:
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
        - description: Start date for availability check (ISO 8601 format)
          format: date
          in: query
          name: start_date
          required: false
          type: string
        - description: End date for availability check (ISO 8601 format)
          format: date
          in: query
          name: end_date
          required: false
          type: string
        - default: 3
          description: Number of months to check from start_date (default 3)
          in: query
          maximum: 12
          minimum: 1
          name: months
          required: false
          type: integer
      responses:
        '200':
          description: Listing availability retrieved successfully
          schema:
            properties:
              data:
                properties:
                  available_dates:
                    items:
                      properties:
                        end_date:
                          format: date
                          type: string
                        start_date:
                          format: date
                          type: string
                      type: object
                    type: array
                  last_updated:
                    format: date-time
                    type: string
                  listing_id:
                    type: string
                  unavailable_dates:
                    items:
                      properties:
                        blackout_id:
                          description: ID of the blackout date (if applicable)
                          type: string
                        end_date:
                          format: date-time
                          type: string
                        reason:
                          enum:
                            - booked
                            - blackout
                            - maintenance
                            - personal
                            - blocked
                          type: string
                        start_date:
                          format: date-time
                          type: string
                      type: object
                    type: array
                type: object
              success:
                example: true
                type: boolean
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request (invalid listing ID or date parameters)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Listing not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Returns available and unavailable dates for a listing including blackout
        dates
      operationId: listingsGetAvailability
      summary: Get listing availability
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/{id}/availability/calendar':
    get:
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
        - description: Start date for availability check (defaults to today)
          format: date
          in: query
          name: start_date
          required: false
          type: string
        - default: 60
          description: 'Number of days to check availability (default 60, max 365)'
          in: query
          maximum: 365
          minimum: 1
          name: days
          required: false
          type: integer
      responses:
        '200':
          description: Availability calendar retrieved successfully
          schema:
            $ref: '#/definitions/ApiResponseAvailabilityCalendar'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Listing not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Returns a list of unavailable dates for a listing within a specified
        date range. Used to disable unavailable dates in date pickers.
      operationId: listingsGetAvailabilityCalendar
      summary: Get listing availability calendar
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/{id}/blackout':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
        - description: Blackout dates to add to the listing
          in: body
          name: body
          required: true
          schema:
            properties:
              blackout_dates:
                items:
                  properties:
                    end_date:
                      description: End date and time of the blackout period
                      format: date-time
                      type: string
                    reason:
                      default: blocked
                      description: Reason for the blackout period
                      enum:
                        - maintenance
                        - personal
                        - blocked
                        - vacation
                        - other
                      type: string
                    start_date:
                      description: Start date and time of the blackout period
                      format: date-time
                      type: string
                  required:
                    - start_date
                    - end_date
                    - reason
                  type: object
                maxItems: 10
                minItems: 1
                type: array
            required:
              - blackout_dates
            type: object
      responses:
        '201':
          description: Blackout dates added successfully
          schema:
            properties:
              data:
                properties:
                  added_count:
                    description: Number of blackout dates added
                    type: integer
                  blackout_dates:
                    items:
                      properties:
                        created_at:
                          format: date-time
                          type: string
                        end_date:
                          format: date-time
                          type: string
                        id:
                          type: string
                        is_active:
                          type: boolean
                        reason:
                          type: string
                        start_date:
                          format: date-time
                          type: string
                      type: object
                    type: array
                  listing_id:
                    type: string
                type: object
              success:
                example: true
                type: boolean
              toast:
                example: Blackout dates added successfully
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request (invalid dates or listing not found)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden (user is not the host of this listing)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Listing not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - listing
      description: Block specific date ranges for a listing to prevent bookings
      operationId: listingsAddBlackoutDates
      summary: Add blackout dates to a listing
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/{id}/blackout-dates':
    get:
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
        - default: true
          description: Return only active blackout dates
          in: query
          name: active_only
          required: false
          type: boolean
      responses:
        '200':
          description: Blackout dates retrieved successfully
          schema:
            properties:
              data:
                properties:
                  blackout_dates:
                    items:
                      properties:
                        created_at:
                          format: date-time
                          type: string
                        end_date:
                          format: date-time
                          type: string
                        id:
                          type: string
                        is_active:
                          type: boolean
                        reason:
                          type: string
                        start_date:
                          format: date-time
                          type: string
                      type: object
                    type: array
                  listing_id:
                    type: string
                type: object
              success:
                example: true
                type: boolean
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request (invalid listing ID)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Listing not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - listing
      description: Retrieve all blackout dates for a specific listing
      operationId: listingsGetBlackoutDates
      summary: Get blackout dates for a listing
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/{id}/blackout/{blackout_id}':
    delete:
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
        - description: Blackout date ID to remove
          in: path
          name: blackout_id
          required: true
          type: string
      responses:
        '204':
          description: Blackout date removed successfully
        '400':
          description: Bad request (invalid listing ID or blackout ID)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden (user is not the host of this listing)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Listing or blackout date not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - listing
      description: Remove a specific blackout date by its ID
      operationId: listingsRemoveBlackoutDate
      summary: Remove a blackout date from a listing
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/{id}/report':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
        - description: The report to create
          in: body
          name: body
          required: true
          schema:
            properties:
              details:
                description: Additional details about the report
                maxLength: 500
                type: string
              reason:
                enum:
                  - INAPPROPRIATE
                  - MISLEADING
                  - SPAM
                  - OFFENSIVE
                  - OTHER
                type: string
              reported_by:
                description: User ID of the person reporting the listing
                type: string
            required:
              - reason
              - reported_by
            type: object
      responses:
        '201':
          description: Listing reported
          schema:
            properties:
              report_id:
                description: The ID of the created report
                type: string
              success:
                type: boolean
              toast:
                type: string
            required:
              - success
              - report_id
            type: object
        '400':
          description: Bad request (invalid ID or report)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Listing not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Allows a user to report a listing for inappropriate or incorrect
        content.
      operationId: listingsReportListing
      summary: Report a listing
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/listings/{id}/weather/forecast':
    get:
      produces:
        - application/json
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Return the listing weather
          schema:
            properties:
              data:
                properties:
                  current:
                    properties:
                      air_quality:
                        example: 36
                        type: integer
                      date:
                        example: 1721253600
                        format: int64
                        type: integer
                      feels_like:
                        description: Celsius
                        example: 299.15
                        format: float
                        type: number
                      humidity:
                        description: Percentage (%)
                        example: 65
                        type: integer
                      temp:
                        description: Celsius
                        example: 297.15
                        format: float
                        type: number
                      visibility:
                        description: Meters
                        example: 10000
                        type: integer
                      wind_speed:
                        description: km/h
                        example: 13
                        format: float
                        type: number
                    type: object
                  id:
                    example: listing_123
                    type: string
                  latitude:
                    example: 40.7128
                    format: float
                    type: number
                  longitude:
                    example: -74.006
                    format: float
                    type: number
                  timezone:
                    example: Toronto/Ontario
                    type: string
                  weather-forecast:
                    items:
                      properties:
                        date:
                          example: 1750128000
                          format: int64
                          type: integer
                        temp:
                          example: 297.15
                          format: float
                          type: number
                      type: object
                    type: array
                type: object
              success:
                type: boolean
              toast:
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Bad request (invalid ID)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Listing not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid booking ID.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - listing
      description: >-
        Returns the current weather and forecast for the specified listing
        location.
      operationId: listingsGetListingWeather
      summary: Get weather forecast for a listing
      x-google-backend:
        address: 'https://listing-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/messages/{messageId}':
    get:
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the message
          in: path
          name: messageId
          required: true
          type: string
      responses:
        '200':
          description: Message details
          schema:
            $ref: '#/definitions/Message'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Messages
      description: Get details of a specific message
      operationId: getMessage
      summary: Get message details
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    put:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the message
          in: path
          name: messageId
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateMessageRequest'
      responses:
        '200':
          description: Message updated successfully
          schema:
            $ref: '#/definitions/Message'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Messages
      description: 'Update a message (edit, delete, etc.)'
      operationId: updateMessage
      summary: Update message
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/messages/{messageId}/read':
    put:
      produces:
        - application/json
      parameters:
        - description: Unique identifier of the message
          in: path
          name: messageId
          required: true
          type: string
      responses:
        '200':
          description: Message marked as read
          schema:
            $ref: '#/definitions/Message'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Messages
      description: Mark a specific message as read by the current user
      operationId: markMessageAsRead
      summary: Mark message as read
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /payments/earnings:
    get:
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
      responses:
        '200':
          description: Earnings data retrieved successfully
          schema:
            $ref: '#/definitions/EarningsResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Retrieves earnings data for the authenticated user
      operationId: getEarnings
      summary: Get user earnings
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /payments/heartbeat:
    get:
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
      responses:
        '200':
          description: Heartbeat response
          schema:
            $ref: '#/definitions/HeartbeatResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: >-
        Returns a simple heartbeat response to verify the Payment service is
        running.
      operationId: paymentHeartbeat
      summary: Heartbeat
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /payments/history:
    get:
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - default: 1
          description: Page number for pagination
          in: query
          minimum: 1
          name: page
          required: false
          type: integer
        - default: 10
          description: Number of items per page
          in: query
          maximum: 100
          minimum: 1
          name: limit
          required: false
          type: integer
      responses:
        '200':
          description: Transaction history retrieved successfully
          schema:
            $ref: '#/definitions/TransactionHistoryResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Retrieves transaction history for the authenticated user
      operationId: getTransactionHistory
      summary: Get transaction history
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /payments/intents:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreatePaymentIntentRequest'
      responses:
        '201':
          description: Payment intent created successfully
          schema:
            $ref: '#/definitions/PaymentIntentResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Creates a new payment intent for a booking
      operationId: createPaymentIntent
      summary: Create payment intent
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/payments/intents/{id}':
    get:
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - description: Payment intent ID
          in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Payment intent retrieved successfully
          schema:
            $ref: '#/definitions/PaymentIntentResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Payment intent not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Retrieves a payment intent by ID
      operationId: getPaymentIntent
      summary: Get payment intent
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/payments/intents/{id}/use-payment-method':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - description: Payment intent ID
          in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            properties:
              payment_method_id:
                description: Payment method ID to attach and confirm
                type: string
            required:
              - payment_method_id
            type: object
      responses:
        '200':
          description: Payment method attached and confirmed successfully
          schema:
            $ref: '#/definitions/PaymentIntentResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: >-
        Attaches a payment method to a payment intent and confirms it
        automatically. This is the simplified flow for when users select a saved
        payment method - one call does everything.
      operationId: usePaymentMethod
      summary: Use payment method
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /payments/methods:
    get:
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
      responses:
        '200':
          description: Payment methods retrieved successfully
          schema:
            $ref: '#/definitions/PaymentMethodsResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Retrieves saved payment methods for the authenticated user
      operationId: getPaymentMethods
      summary: Get user payment methods
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - in: body
          name: body
          required: true
          schema:
            properties:
              payment_method_id:
                description: Stripe payment method ID
                type: string
            required:
              - payment_method_id
            type: object
      responses:
        '201':
          description: Payment method saved successfully
          schema:
            properties:
              data:
                properties:
                  status:
                    type: string
                type: object
              success:
                type: boolean
            type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Saves a payment method for the authenticated user
      operationId: savePaymentMethod
      summary: Save payment method
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/payments/methods/{id}':
    delete:
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - description: Payment method ID
          in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Payment method removed successfully
          schema:
            properties:
              data:
                properties:
                  status:
                    type: string
                type: object
              success:
                type: boolean
            type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Payment method not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Removes a saved payment method for the authenticated user
      operationId: removePaymentMethod
      summary: Remove payment method
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - description: Payment method ID
          in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            properties:
              default:
                default: true
                description: Set as default payment method
                type: boolean
            required:
              - default
            type: object
      responses:
        '200':
          description: Default payment method updated successfully
          schema:
            properties:
              data:
                properties:
                  status:
                    type: string
                type: object
              success:
                type: boolean
            type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Payment method not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Sets a payment method as the default for the authenticated user
      operationId: setDefaultPaymentMethod
      summary: Set default payment method
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/payments/methods/{id}/attach':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - description: Payment method ID
          in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            properties:
              customer_id:
                description: Customer ID
                type: string
            required:
              - customer_id
            type: object
      responses:
        '200':
          description: Payment method attached successfully
          schema:
            properties:
              data:
                properties:
                  status:
                    type: string
                type: object
              success:
                type: boolean
            type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Attaches a payment method to a customer
      operationId: attachPaymentMethod
      summary: Attach payment method
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /payments/refunds:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateRefundRequest'
      responses:
        '201':
          description: Refund created successfully
          schema:
            $ref: '#/definitions/RefundResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Creates a refund for a payment intent
      operationId: createRefund
      summary: Create refund
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /payments/setup-intents:
    post:
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
      responses:
        '201':
          description: Setup intent created successfully
          schema:
            $ref: '#/definitions/SetupIntentResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: >-
        Creates a SetupIntent for saving payment methods without charging. This
        is used when users want to add a new payment method from the settings
        page.
      operationId: createSetupIntent
      summary: Create setup intent
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/payments/setup-intents/{id}':
    get:
      produces:
        - application/json
      parameters:
        - default: stripe
          description: 'Payment provider (optional, defaults to user''s preferred provider)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: header
          name: X-Payment-Provider
          required: false
          type: string
        - description: Setup intent ID
          in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Setup intent retrieved successfully
          schema:
            $ref: '#/definitions/SetupIntentResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Setup intent not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        '500':
          description: Internal server error
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - payment
      description: Retrieves a SetupIntent by ID
      operationId: getSetupIntent
      summary: Get setup intent
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /reviews:
    get:
      produces:
        - application/json
      parameters:
        - description: Filter by author user ID
          in: query
          name: author
          required: false
          type: string
        - description: Filter by target user or listing ID
          in: query
          name: target
          required: false
          type: string
        - description: Filter by review type (user or listing)
          enum:
            - user
            - listing
          in: query
          name: type
          required: false
          type: string
        - description: 'Filter by review category (e.g., couchsurf, workspace)'
          in: query
          name: category
          required: false
          type: string
        - default: 1
          in: query
          name: page
          required: false
          type: integer
        - default: 10
          in: query
          name: limit
          required: false
          type: integer
      responses:
        '200':
          description: List of reviews matching filters
          schema:
            $ref: '#/definitions/APIResponse'
        '400':
          description: Invalid request
          schema:
            $ref: '#/definitions/DefaultResponse'
        default:
          description: Default
          schema:
            $ref: '#/definitions/DefaultResponse'
      security:
        - jwtAuth: []
      tags:
        - review
      description: >
        Retrieve a list of reviews filtered by author, target, type, category,
        listing, and pagination.
      operationId: listReviews
      summary: 'Get reviews with filters (author, target, type, category, etc.)'
      x-google-backend:
        address: 'https://review-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/ReviewRequest'
      responses:
        '201':
          description: Review created and pending approval.
          schema:
            $ref: '#/definitions/ReviewCreatedResponse'
        '400':
          description: Invalid request
          schema:
            $ref: '#/definitions/DefaultResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/DefaultResponse'
        '409':
          description: Duplicate review - review already exists for this booking
          schema:
            $ref: '#/definitions/DefaultResponse'
        default:
          description: Default
          schema:
            $ref: '#/definitions/DefaultResponse'
      security:
        - jwtAuth: []
      tags:
        - review
      description: >
        Create a new review for a user or listing, specifying context, metrics,
        and other details.
      operationId: createReview
      summary: Create a new review (user or listing)
      x-google-backend:
        address: 'https://review-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /reviews/heartbeat:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: API is healthy
          schema:
            properties:
              status:
                enum:
                  - healthy
                type: string
            type: object
        '400':
          description: Bad request
          schema:
            properties:
              error:
                type: string
            type: object
      security: []
      tags:
        - review
      description: |
        This endpoint is used to check the health status of the API service.
      operationId: getHeartbeat
      summary: Health check endpoint
      x-google-backend:
        address: 'https://review-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/reviews/{id}':
    delete:
      produces:
        - application/json
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: Review deleted
          schema:
            $ref: '#/definitions/APIResponse'
        '404':
          description: Review not found
          schema:
            $ref: '#/definitions/DefaultResponse'
        default:
          description: Default
          schema:
            $ref: '#/definitions/DefaultResponse'
      security:
        - jwtAuth: []
      tags:
        - review
      description: |
        Delete a review by its unique ID.
      operationId: deleteReview
      summary: Delete a review
      x-google-backend:
        address: 'https://review-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    get:
      produces:
        - application/json
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          type: string
      responses:
        '200':
          description: The review
          schema:
            $ref: '#/definitions/APIResponse'
        '404':
          description: Review not found
          schema:
            $ref: '#/definitions/DefaultResponse'
        default:
          description: Default
          schema:
            $ref: '#/definitions/DefaultResponse'
      security:
        - jwtAuth: []
      tags:
        - review
      description: |
        Retrieve a single review by its unique ID.
      operationId: getReviewById
      summary: Get a single review by ID
      x-google-backend:
        address: 'https://review-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/ReviewUpdateRequest'
      responses:
        '200':
          description: The updated review
          schema:
            $ref: '#/definitions/APIResponse'
        '400':
          description: Invalid request
          schema:
            $ref: '#/definitions/DefaultResponse'
        '404':
          description: Review not found
          schema:
            $ref: '#/definitions/DefaultResponse'
        default:
          description: Default
          schema:
            $ref: '#/definitions/DefaultResponse'
      security:
        - jwtAuth: []
      tags:
        - review
      description: >
        Update fields of an existing review, such as comment, rating, or
        metrics.
      operationId: patchReview
      summary: 'Partially update a review (e.g., change comment, rating, etc.)'
      x-google-backend:
        address: 'https://review-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/reviews/{id}/report':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/ReportReviewRequest'
      responses:
        '200':
          description: Review reported successfully
          schema:
            $ref: '#/definitions/APIResponse'
        '404':
          description: Review not found
          schema:
            $ref: '#/definitions/DefaultResponse'
        default:
          description: Default
          schema:
            $ref: '#/definitions/DefaultResponse'
      security:
        - jwtAuth: []
      tags:
        - review
      description: |
        Report a review as inappropriate, misleading, spam, or offensive.
      operationId: reportReview
      summary: Report an inappropriate review
      x-google-backend:
        address: 'https://review-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/reviews/{id}/respond':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          type: string
        - in: body
          name: body
          schema:
            $ref: '#/definitions/ReviewResponseRequest'
      responses:
        '200':
          description: Response added successfully
          schema:
            $ref: '#/definitions/APIResponse'
        '404':
          description: Review not found
          schema:
            $ref: '#/definitions/DefaultResponse'
        default:
          description: Default
          schema:
            $ref: '#/definitions/DefaultResponse'
      security:
        - jwtAuth: []
      tags:
        - review
      description: |
        Add a response to a review as the target user or listing owner.
      operationId: respondToReview
      summary: Respond to a review
      x-google-backend:
        address: 'https://review-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/heartbeat:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: User service heartbeat
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Email already exists.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '400':
          description: Bad request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Phone number already registered.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Incorrect email or password.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: Not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Incorrect phone number or OTP.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Verification code is invalid or expired.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Returns the heartbeat status of the user service.
      operationId: userHeartbeat
      summary: User service heartbeat
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/login/email:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The credentials to login
          in: body
          name: body
          required: true
          schema:
            properties:
              email:
                format: email
                type: string
              password:
                maxLength: 50
                minLength: 8
                type: string
            required:
              - email
              - password
            type: object
      responses:
        '200':
          description: The logged in user with tokens in headers
          headers:
            Authorization:
              description: Bearer JWT access token to be used for subsequent requests.
              type: string
          schema:
            description: Response for user login (email/phone).
            properties:
              data:
                properties:
                  avatar:
                    format: uri
                    type: string
                  bio:
                    type: string
                  birthday:
                    format: date-time
                    type: string
                  city:
                    type: string
                  country:
                    maxItems: 10
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  email:
                    type: string
                  first_name:
                    type: string
                  gender:
                    enum:
                      - Male
                      - Female
                      - Non-binary
                      - Transgender
                      - Genderqueer
                      - Genderfluid
                      - Agender
                      - Two-spirit
                      - Bigender
                      - Other
                      - Prefer not to say
                    type: string
                  id:
                    type: string
                  interests:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  languages:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  last_name:
                    type: string
                  phone:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              error:
                example: Incorrect email or password.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Login successful.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Authentication required.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Logs in a user using email and password.
      operationId: emailSignIn
      summary: Sign in a user via email
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/login/otp/initiate:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Contact information and delivery method
          in: body
          name: body
          required: true
          schema:
            properties:
              contact:
                description: >-
                  The email address or phone number (E.164 format) to send OTP
                  to
                example: user@example.com
                type: string
              device_info:
                description: Optional device information
                properties:
                  app_version:
                    type: string
                  device_id:
                    type: string
                  device_model:
                    type: string
                  device_type:
                    type: string
                  system_name:
                    type: string
                type: object
              method:
                description: The delivery method for the OTP.
                enum:
                  - EMAIL
                  - SMS
                  - WHATSAPP
                type: string
            required:
              - contact
              - method
            type: object
      responses:
        '200':
          description: OTP sent successfully
          schema:
            properties:
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: >-
                  OTP sent successfully. Please check your email for the
                  verification code.
                type: string
            required:
              - success
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: >-
                  Failed to validate request body: method must be one of [EMAIL
                  SMS WHATSAPP]
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Oops! Something went wrong. Please try again later.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized - invalid credentials or unverified contact
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid credentials.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Invalid credentials.
                type: string
            required:
              - success
              - error
            type: object
        '403':
          description: Forbidden - account not active
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Account is not active.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Your account is not active.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Oops! Something went wrong. Please try again later.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: >-
        Initiates passwordless login by sending an OTP to the user's verified
        contact (email or phone). The user must have a verified email or phone
        number to use this endpoint.
      operationId: initiateOTPLogin
      summary: Initiate OTP-based passwordless login
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/login/otp/verify:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: OTP verification details
          in: body
          name: body
          required: true
          schema:
            properties:
              contact:
                description: >-
                  The email address or phone number (E.164 format) used to
                  initiate login
                example: user@example.com
                type: string
              device_info:
                description: Optional device information
                properties:
                  app_version:
                    type: string
                  device_id:
                    type: string
                  device_model:
                    type: string
                  device_type:
                    type: string
                  system_name:
                    type: string
                type: object
              fcm_token:
                description: Optional FCM token for push notifications
                type: string
              location:
                description: Optional location data
                properties:
                  latitude:
                    format: float
                    type: number
                  longitude:
                    format: float
                    type: number
                type: object
              method:
                description: The delivery method used.
                enum:
                  - EMAIL
                  - SMS
                  - WHATSAPP
                type: string
              otp:
                description: The 6-digit OTP code received
                example: '123456'
                maxLength: 6
                minLength: 6
                type: string
            required:
              - contact
              - method
              - otp
            type: object
      responses:
        '200':
          description: Login successful - user authenticated with tokens in headers
          headers:
            Authorization:
              description: Bearer JWT access token to be used for subsequent requests.
              type: string
            X-Corneroom-Access:
              description: >-
                JWT access token (new standard header, Title-Case per Go
                convention).
              type: string
            X-Corneroom-Refresh:
              description: >-
                Refresh token for future token refreshes (new standard header,
                Title-Case per Go convention).
              type: string
          schema:
            description: Response for successful OTP login.
            properties:
              data:
                $ref: '#/definitions/EnhancedUserProfileResponse'
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Welcome back! You're now logged in.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: 'Failed to validate request body: otp must be 6 characters'
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Oops! Something went wrong. Please try again later.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized - invalid or expired OTP
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: 'OTP verification failed: OTP expired'
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Invalid or expired OTP. Please try again.
                type: string
            required:
              - success
              - error
            type: object
        '403':
          description: Forbidden - account not active
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Account is not active.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Your account is not active.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Oops! Something went wrong. Please try again later.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: >-
        Verifies the OTP code and completes passwordless login. Returns JWT
        access and refresh tokens in headers along with the user profile.
      operationId: verifyOTPLogin
      summary: Verify OTP and complete passwordless login
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/login/phone:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The credentials to login
          in: body
          name: body
          required: true
          schema:
            properties:
              password:
                maxLength: 50
                minLength: 8
                type: string
              phone_number:
                description: 'The phone number in E.164 format (e.g., +1234567890)'
                type: string
            required:
              - phone_number
              - password
            type: object
      responses:
        '200':
          description: The logged in user with tokens in headers
          headers:
            Authorization:
              description: Bearer JWT access token to be used for subsequent requests.
              type: string
          schema:
            description: Response for user login (email/phone).
            properties:
              data:
                properties:
                  avatar:
                    format: uri
                    type: string
                  bio:
                    type: string
                  birthday:
                    format: date-time
                    type: string
                  city:
                    type: string
                  country:
                    maxItems: 10
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  email:
                    type: string
                  first_name:
                    type: string
                  gender:
                    enum:
                      - Male
                      - Female
                      - Non-binary
                      - Transgender
                      - Genderqueer
                      - Genderfluid
                      - Agender
                      - Two-spirit
                      - Bigender
                      - Other
                      - Prefer not to say
                    type: string
                  id:
                    type: string
                  interests:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  languages:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  last_name:
                    type: string
                  phone:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              error:
                example: Incorrect phone number or OTP.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Login successful.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Email already exists.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Logs in a user using phone number and OTP.
      operationId: phoneSignIn
      summary: Sign in a user via phone number
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me:
    delete:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Validation passed - deletion request sent to Slack
          schema:
            $ref: '#/definitions/UserDeletionResponse'
        '400':
          description: Validation failed - user cannot be deleted
          schema:
            $ref: '#/definitions/UserDeletionValidationError'
        '401':
          description: Unauthorized - Authentication required
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                example: Authentication required.
                type: string
              success:
                example: false
                type: boolean
              toast:
                example: Please log in to continue.
                type: string
            required:
              - success
              - error
            type: object
        '500':
          description: Internal server error
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                example: An unexpected error occurred.
                type: string
              success:
                example: false
                type: boolean
              toast:
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: >
        Validates if the current user can be deleted and sends a deletion
        request to Slack for manual review.


        This endpoint performs validation checks across multiple services:

        - Active/confirmed bookings (booking-service)

        - Upcoming bookings (booking-service)

        - Pending payments (payment-service)

        - Active listings as host (community-service)

        - Any other business constraints


        If validation fails, returns detailed errors/warnings. If validation
        passes,

        sends a deletion request to Slack channel for manual approval.


        **Note:** This endpoint does NOT actually delete the user. Actual
        deletion

        requires manual approval via Slack and will be handled separately.
      operationId: requestUserDeletion
      summary: Request user account deletion
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: The current user profile in enhanced format
          schema:
            $ref: '#/definitions/EnhancedUserProfileResponse'
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Phone number already registered.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: User not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Incorrect phone number or OTP.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Retrieves the current user's enhanced profile information.
      operationId: getCurrentUser
      summary: Get current user profile
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Profile update data in enhanced nested format
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/EnhancedProfileUpdateRequest'
      responses:
        '200':
          description: The updated user profile in enhanced format
          schema:
            $ref: '#/definitions/EnhancedUserProfileResponse'
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Verification code is invalid or expired.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: User not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Authentication required.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: >-
        Updates the current user's profile information using enhanced nested
        format for partial updates.
      operationId: updateCurrentUser
      summary: Update current user profile
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/avatar:
    delete:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: The updated user
          schema:
            description: Response containing the updated user avatar.
            properties:
              data:
                description: The updated avatar object
                properties:
                  avatar:
                    description: The updated avatar URL
                    format: uri
                    type: string
                type: object
              error:
                example: No avatar to delete.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Avatar updated successfully.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: User not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Deletes the current user's avatar image.
      operationId: deleteCurrentUserAvatar
      summary: Delete current user's avatar
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: JSON body with Avatar URL
          in: body
          name: body
          required: true
          schema:
            format: uri
            type: string
      responses:
        '200':
          description: The updated user
          schema:
            description: Response containing the updated user avatar.
            properties:
              data:
                description: The updated avatar object
                properties:
                  avatar:
                    description: The updated avatar URL
                    format: uri
                    type: string
                type: object
              error:
                example: Invalid image format.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Avatar updated successfully.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: User not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Updates the current user's avatar image.
      operationId: updateCurrentUserAvatar
      summary: Update current user's avatar
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The password change request
          in: body
          name: body
          required: true
          schema:
            properties:
              new_password:
                description: The new password
                maxLength: 50
                minLength: 8
                type: string
              old_password:
                description: The current password
                maxLength: 50
                minLength: 8
                type: string
              verify_password:
                description: Verify the new password
                maxLength: 50
                minLength: 8
                type: string
            required:
              - old_password
              - new_password
              - verify_password
            type: object
      responses:
        '200':
          description: The password change response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Uploads a new avatar image for the current user.
      operationId: changeCurrentUserPassword
      summary: Change current user's password
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/devices:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: List of registered devices
          schema:
            properties:
              data:
                items:
                  properties:
                    app_version:
                      description: App version
                      type: string
                    created_at:
                      description: Device registration timestamp
                      format: date-time
                      type: string
                    device_id:
                      description: Unique device identifier
                      type: string
                    fcm_token:
                      description: Firebase Cloud Messaging token
                      type: string
                    language:
                      description: Device language
                      type: string
                    last_seen:
                      description: Last time device was active
                      format: date-time
                      type: string
                    model:
                      description: Device model
                      type: string
                    platform:
                      description: 'Device platform (ios, android, web)'
                      type: string
                    timezone:
                      description: Device timezone
                      type: string
                  type: object
                type: array
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Devices retrieved successfully
                type: string
            required:
              - success
              - data
            type: object
        '401':
          description: Unauthorized
          schema:
            properties:
              error:
                example: Authentication required
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            properties:
              error:
                example: An unexpected error occurred
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Retrieves all registered devices for the current user.
      operationId: getCurrentUserDevices
      summary: Get current user's registered devices
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Device update data
          in: body
          name: body
          required: true
          schema:
            properties:
              app_version:
                description: App version
                type: string
              device_id:
                description: Unique device identifier to update
                type: string
              fcm_token:
                description: Firebase Cloud Messaging token
                type: string
              language:
                description: Device language
                type: string
              model:
                description: Device model
                type: string
              platform:
                description: 'Device platform (ios, android, web)'
                type: string
              timezone:
                description: Device timezone
                type: string
            required:
              - device_id
            type: object
      responses:
        '200':
          description: Device updated successfully
          schema:
            properties:
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Device updated successfully
                type: string
            required:
              - success
            type: object
        '400':
          description: Invalid request
          schema:
            properties:
              error:
                example: Missing required fields
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized
          schema:
            properties:
              error:
                example: Authentication required
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            properties:
              error:
                example: An unexpected error occurred
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Updates an existing device for the current user with partial data.
      operationId: updateCurrentUserDevice
      summary: Update device for current user
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            properties:
              app_version:
                description: App version
                type: string
              device_id:
                description: Unique device identifier
                type: string
              fcm_token:
                description: Firebase Cloud Messaging token
                type: string
              language:
                description: Device language
                type: string
              model:
                description: Device model
                type: string
              platform:
                description: 'Device platform (ios, android, web)'
                type: string
              timezone:
                description: Device timezone
                type: string
            type: object
      responses:
        '200':
          description: Device registered or updated successfully
          schema:
            properties:
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Device registered successfully
                type: string
            required:
              - success
            type: object
        '401':
          description: Unauthorized
          schema:
            properties:
              error:
                example: Authentication required
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            properties:
              error:
                example: An unexpected error occurred
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: >-
        Registers a new device or updates an existing device for the current
        user.
      operationId: addOrUpdateCurrentUserDevice
      summary: Add or update device for current user
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/users/me/devices/{device_id}':
    delete:
      produces:
        - application/json
      parameters:
        - description: Device ID to remove
          in: path
          name: device_id
          required: true
          type: string
      responses:
        '204':
          description: Device removed successfully
        '400':
          description: Invalid request
          schema:
            properties:
              error:
                example: Device ID required
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized
          schema:
            properties:
              error:
                example: Authentication required
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
        '404':
          description: Device not found
          schema:
            properties:
              error:
                example: Device not found
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            properties:
              error:
                example: An unexpected error occurred
                type: string
              success:
                example: false
                type: boolean
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Removes a registered device for the current user.
      operationId: removeCurrentUserDevice
      summary: Remove device for current user
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/email/add:
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The email to add
          in: body
          name: body
          required: true
          schema:
            properties:
              email:
                format: email
                type: string
            required:
              - email
            type: object
      responses:
        '200':
          description: Email added and verification initiated
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        '400':
          description: Invalid request
          schema:
            properties:
              error:
                type: string
              success:
                type: boolean
            type: object
        '409':
          description: Email already in use
          schema:
            properties:
              error:
                type: string
              success:
                type: boolean
            type: object
        default:
          description: Default error response
          schema:
            properties:
              error:
                type: string
              success:
                type: boolean
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Adds a new email address to the user's profile.
      operationId: addCurrentUserEmail
      summary: Add a new email to the current user
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/email/confirm:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The email verification code
          in: body
          name: body
          required: true
          schema:
            properties:
              contact:
                description: The email address to verify
                format: email
                type: string
              otp:
                description: The email verification code
                maxLength: 6
                pattern: '^[0-9]*$'
                type: string
            required:
              - otp
              - contact
            type: object
      responses:
        '200':
          description: The email verification response
          schema:
            description: Response for email/phone verification (initiate/confirm).
            properties:
              data:
                properties:
                  contact:
                    description: The contact info verified
                    example: user@example.com
                    type: string
                  method:
                    description: 'Verification method (e.g., ''email'', ''phone'')'
                    example: email
                    type: string
                  verified:
                    description: Whether the verification was successful
                    example: true
                    type: boolean
                type: object
              error:
                example: Email confirmation failed.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Verification successful.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Confirms the user's email address with a verification code.
      operationId: confirmCurrentUserEmail
      summary: Confirm current user's email
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/email/verify:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The email verification request
          in: body
          name: body
          schema:
            properties:
              email:
                format: email
                type: string
            required:
              - email
            type: object
      responses:
        '200':
          description: The email verification response
          schema:
            description: Response for email/phone verification (initiate/confirm).
            properties:
              data:
                properties:
                  contact:
                    description: The contact info verified
                    example: user@example.com
                    type: string
                  method:
                    description: 'Verification method (e.g., ''email'', ''phone'')'
                    example: email
                    type: string
                  verified:
                    description: Whether the verification was successful
                    example: true
                    type: boolean
                type: object
              error:
                example: Verification code is invalid or expired.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Verification successful.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Verifies the user's email address.
      operationId: verifyCurrentUserEmail
      summary: Verify current user's email
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/identity/verify:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Biometric Verification Request
          in: body
          name: body
          required: true
          schema:
            properties:
              documents:
                additionalProperties:
                  properties:
                    back:
                      description: URL to the back of the document
                      format: url
                      type: string
                    front:
                      description: URL to the front of the document
                      format: url
                      type: string
                  type: object
                description: The documents to verify
                type: object
              id:
                description: The ID of the user
                type: string
              selfies:
                description: Selfies for verification
                items:
                  properties:
                    description:
                      description: Description of the selfie
                      type: string
                    urls:
                      description: List of selfie URLs
                      items:
                        format: url
                        type: string
                      type: array
                  type: object
                type: array
            required:
              - id
              - documents
              - selfies
            type: object
      responses:
        '200':
          description: The identity verification response
          schema:
            description: Response for biometric/identity verification.
            properties:
              data:
                properties:
                  status:
                    description: Status of the identity verification
                    example: pending
                    type: string
                  submitted_at:
                    description: Submission timestamp
                    example: '2025-06-16T12:00:00.000Z'
                    format: date-time
                    type: string
                  verification_id:
                    description: ID of the verification request
                    example: verif_12345
                    type: string
                type: object
              error:
                example: Identity verification failed.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Identity verification submitted.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Verifies the user's identity with provided documents.
      operationId: submitCurrentUserBiometricVerificationRequest
      summary: Submit biometric verification request for current user
      x-google-backend:
        address: 'https://booking-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/logout:
    post:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: User logged out successfully
          schema:
            description: Logout response
            properties:
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Logged out successfully
                type: string
            required:
              - success
              - toast
            type: object
        '401':
          description: Unauthorized - Authentication required
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Authentication required.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please log in to continue.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: >-
        Logs out the current user by revoking all refresh tokens. Access tokens
        remain valid until they expire (stateless JWT design). This endpoint
        prevents refresh token abuse after logout.
      operationId: logoutCurrentUser
      summary: Logout current user
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/phone/add:
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The phone number to add
          in: body
          name: body
          required: true
          schema:
            properties:
              phone_number:
                description: 'The phone number in E.164 format (e.g., +1234567890)'
                type: string
            required:
              - phone_number
            type: object
      responses:
        '200':
          description: Phone number added and verification initiated
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        '400':
          description: Invalid request
          schema:
            properties:
              error:
                type: string
              success:
                type: boolean
            type: object
        '409':
          description: Phone number already in use
          schema:
            properties:
              error:
                type: string
              success:
                type: boolean
            type: object
        default:
          description: Default error response
          schema:
            properties:
              error:
                type: string
              success:
                type: boolean
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Adds a new phone number to the user's profile.
      operationId: addCurrentUserPhone
      summary: Add a new phone number to the current user
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/phone/confirm:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: JSON body with the verification code for confirmation
          in: body
          name: body
          required: true
          schema:
            properties:
              contact:
                description: The phone number to verify
                example: '+1234567890'
                maxLength: 20
                type: string
              otp:
                description: The verification code sent to the user's phone
                maxLength: 6
                pattern: '^[0-9]*$'
                type: string
            required:
              - otp
              - contact
            type: object
      responses:
        '200':
          description: Phone Number Successfully Verified
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Confirms the user's phone number with a verification code.
      operationId: confirmCurrentUserPhoneNumberVerification
      summary: Confirm current user's phone number verification
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/phone/verify:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: JSON body with the phone number for verification initiation
          in: body
          name: body
          required: true
          schema:
            properties:
              phone_number:
                description: The phone number to verify
                example: '+1234567890'
                maxLength: 20
                type: string
            required:
              - phone_number
            type: object
      responses:
        '200':
          description: Verification Initiated Successfully
          schema:
            description: Response for email/phone verification (initiate/confirm).
            properties:
              data:
                properties:
                  contact:
                    description: The contact info verified
                    example: user@example.com
                    type: string
                  method:
                    description: 'Verification method (e.g., ''email'', ''phone'')'
                    example: email
                    type: string
                  verified:
                    description: Whether the verification was successful
                    example: true
                    type: boolean
                type: object
              error:
                example: Verification code is invalid or expired.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Verification successful.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Verifies the user's phone number.
      operationId: initiateCurrentUserPhoneNumberVerification
      summary: Initiate phone number verification for the current user
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/me/stats:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: The current user statistics
          schema:
            properties:
              data:
                properties:
                  average_rating:
                    description: Average rating received
                    example: 0
                    format: float
                    type: number
                  average_response_time:
                    description: Average response time in hours
                    example: 2.5
                    format: float
                    type: number
                  last_calculated:
                    description: When stats were last calculated
                    example: '2025-01-27T10:30:00Z'
                    format: date-time
                    type: string
                  message_response_rate:
                    description: Percentage of messages responded to
                    example: 92
                    format: float
                    type: number
                  review_response_rate:
                    description: Percentage of reviews responded to
                    example: 85
                    format: float
                    type: number
                  total_listings:
                    description: Total number of listings
                    example: 0
                    type: integer
                  total_messages:
                    description: Total number of messages sent/received
                    example: 0
                    type: integer
                  total_reviews:
                    description: Total number of reviews received
                    example: 0
                    type: integer
                type: object
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: User statistics retrieved successfully.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Authentication required.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please log in to access this resource.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: User not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: Retrieves the current user's statistics for dashboard display.
      operationId: getCurrentUserStats
      summary: Get current user statistics
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/password/confirm:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The password reset confirmation request
          in: body
          name: body
          required: true
          schema:
            properties:
              password:
                description: The new password
                maxLength: 50
                minLength: 8
                type: string
              session_token:
                description: >-
                  The session token obtained from /users/password/reset/verify
                  endpoint
                type: string
              verify_password:
                description: Verify the new password (must match password)
                maxLength: 50
                minLength: 8
                type: string
            required:
              - session_token
              - password
              - verify_password
            type: object
      responses:
        '200':
          description: Password reset completed successfully
          schema:
            properties:
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                description: Success message for the client UI.
                example: Password reset successfully.
                type: string
            required:
              - success
            type: object
        '400':
          description: >-
            Bad request - invalid token, passwords don't match, or validation
            error
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Failed to parse request body
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Oops! Something went wrong. Please try again later.
                type: string
            required:
              - success
              - error
            type: object
        '500':
          description: >-
            Internal server error - token expired, invalid, or other server
            error
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Failed to reset password
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Oops! Something went wrong. Please try again later.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: >-
        Confirms and completes the password reset using the session token
        obtained from the verify endpoint.
      operationId: confirmPasswordReset
      summary: Confirm password reset
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/password/reset:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The password reset request
          in: body
          name: body
          required: true
          schema:
            properties:
              email:
                description: The email address of the user requesting password reset
                format: email
                type: string
            required:
              - email
            type: object
      responses:
        '200':
          description: Password reset code sent successfully
          schema:
            properties:
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                description: Success message for the client UI.
                example: >-
                  Password reset initiated successfully. Please check your email
                  for further instructions.
                type: string
            required:
              - success
            type: object
        '400':
          description: Bad request - invalid email or validation error
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Failed to parse request body
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Oops! Something went wrong. Please try again later.
                type: string
            required:
              - success
              - error
            type: object
        '500':
          description: Internal server error
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Failed to reset password
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Oops! Something went wrong. Please try again later.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: >-
        Initiates a password reset flow by sending a reset code to the user's
        email.
      operationId: requestPasswordReset
      summary: Request password reset
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/password/reset/verify:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The password reset OTP verification request
          in: body
          name: body
          required: true
          schema:
            properties:
              email:
                description: The email address that received the OTP
                format: email
                type: string
              otp:
                description: The 6-digit OTP code received via email
                maxLength: 6
                minLength: 6
                type: string
            required:
              - email
              - otp
            type: object
      responses:
        '200':
          description: 'OTP verified successfully, session token created'
          schema:
            properties:
              data:
                properties:
                  email:
                    description: The email address associated with the OTP
                    format: email
                    type: string
                  session_token:
                    description: >-
                      Session token to use for completing password reset (15
                      minute expiry)
                    type: string
                  valid:
                    example: true
                    type: boolean
                type: object
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Code verified successfully.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: 'Bad request - invalid or expired OTP, or validation error'
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid or expired verification code.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Invalid or expired verification code. Please try again.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: >-
        Verifies the password reset OTP code and creates a session token for
        completing the password reset. This endpoint is called after the user
        enters the 6-digit OTP code received via email.
      operationId: verifyPasswordResetOTP
      summary: Verify password reset OTP
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/refresh:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: false
          schema:
            description: Optional refresh token in body (prefer header if available)
            properties:
              refresh_token:
                description: >-
                  The refresh token (prefer sending in X-Corneroom-Refresh
                  header)
                type: string
            type: object
      responses:
        '200':
          description: Tokens refreshed successfully
          headers:
            Authorization:
              description: >-
                Bearer JWT access token (legacy header, to be phased out - use
                X-Corneroom-Access).
              type: string
            X-Corneroom-Access:
              description: >-
                JWT access token (new standard header, Title-Case per Go
                convention).
              type: string
            X-Corneroom-Refresh:
              description: >-
                Refresh token for future token refreshes (new standard header,
                Title-Case per Go convention).
              type: string
          schema:
            properties:
              error:
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Tokens refreshed successfully.
                type: string
            required:
              - success
            type: object
        '400':
          description: Bad request - refresh token missing
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Refresh token is required.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please provide a refresh token.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized - invalid or expired refresh token
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Invalid or expired refresh token.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please log in again.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: >-
        Refreshes an access token using a refresh token. Returns new access and
        refresh tokens in headers.
      operationId: refreshToken
      summary: Refresh access token
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/register/email:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The user to register
          in: body
          name: body
          required: true
          schema:
            properties:
              email:
                format: email
                type: string
              password:
                maxLength: 50
                minLength: 8
                type: string
            required:
              - email
              - password
            type: object
      responses:
        '201':
          description: The registered user with JWT token
          headers:
            Authorization:
              description: >-
                Bearer JWT token (legacy header, to be phased out - use
                X-Corneroom-Access).
              type: string
            X-Corneroom-Access:
              description: >-
                JWT access token (new standard header, Title-Case per Go
                convention).
              type: string
            X-Corneroom-Refresh:
              description: >-
                Refresh token for future token refreshes (new standard header,
                Title-Case per Go convention).
              type: string
          schema:
            description: Response containing a single user object.
            properties:
              data:
                properties:
                  email:
                    type: string
                  first_name:
                    type: string
                  id:
                    type: string
                  status:
                    type: string
                type: object
              error:
                example: Email already exists.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: User registered successfully.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Authentication required.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Registers a new user using email address.
      operationId: emailSignUp
      summary: User signup via email
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/register/email/confirm:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The email verification code
          in: body
          name: body
          required: true
          schema:
            properties:
              contact:
                description: The email address used for registration
                format: email
                type: string
              otp:
                description: The email verification code
                maxLength: 6
                pattern: '^[0-9]*$'
                type: string
            required:
              - otp
              - contact
            type: object
      responses:
        '201':
          description: The registered and confirmed user with tokens in headers
          headers:
            Authorization:
              description: Bearer JWT access token to be used for subsequent requests.
              type: string
          schema:
            description: Response containing a single user object.
            properties:
              data:
                properties:
                  avatar:
                    format: uri
                    type: string
                  bio:
                    type: string
                  birthday:
                    format: date-time
                    type: string
                  city:
                    type: string
                  country:
                    maxItems: 10
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  deleted:
                    type: boolean
                  deleted_at:
                    format: date-time
                    type: string
                  email:
                    type: string
                  first_name:
                    type: string
                  gender:
                    enum:
                      - Male
                      - Female
                      - Non-binary
                      - Transgender
                      - Genderqueer
                      - Genderfluid
                      - Agender
                      - Two-spirit
                      - Bigender
                      - Other
                      - Prefer not to say
                    type: string
                  id:
                    type: string
                  interests:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  languages:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  last_name:
                    type: string
                  phone:
                    type: string
                  status:
                    enum:
                      - active
                      - suspended
                      - pending
                      - deleted
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              error:
                example: Invalid or expired verification code.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: User registered successfully.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Email already exists.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Confirms user registration via email verification code.
      operationId: emailSignUpOTPConfirm
      summary: User signup via email confirmation
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/register/otp/email:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The email address to send the OTP
          in: body
          name: body
          required: true
          schema:
            properties:
              email:
                description: The email address to send the OTP
                format: email
                type: string
            required:
              - email
            type: object
      responses:
        '201':
          description: The OTP sent to the email
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Authentication required.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Registers a new user using OTP sent to email.
      operationId: sendRegistrationEmailOTP
      summary: Resend registration email OTP
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/register/otp/phone:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The phone number to send the OTP
          in: body
          name: body
          required: true
          schema:
            properties:
              phone_number:
                description: 'The phone number in E.164 format (e.g., +1234567890)'
                type: string
            required:
              - phone_number
            type: object
      responses:
        '201':
          description: The OTP sent to the phone
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Email already exists.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Phone number already registered.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Incorrect email or password.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Registers a new user using OTP sent to phone.
      operationId: sendRegistrationPhoneOTP
      summary: Resend registration Phone OTP
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/register/phone:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The user to register
          in: body
          name: body
          required: true
          schema:
            properties:
              password:
                maxLength: 50
                minLength: 8
                type: string
              phone_number:
                description: 'The phone number in E.164 format (e.g., +1234567890)'
                type: string
            required:
              - phone_number
              - password
            type: object
      responses:
        '201':
          description: The registered user
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Phone number already registered.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Incorrect email or password.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Registers a new user using phone number.
      operationId: phoneSignUp
      summary: User signup via phone number
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/register/phone/confirm:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The phone verification code
          in: body
          name: body
          required: true
          schema:
            properties:
              contact:
                description: 'The phone number in E.164 format (e.g., +1234567890)'
                type: string
              otp:
                description: The phone verification code
                maxLength: 6
                pattern: '^[0-9]*$'
                type: string
            required:
              - otp
              - contact
            type: object
      responses:
        '201':
          description: The registered and confirmed user with tokens in headers
          headers:
            Authorization:
              description: Bearer JWT access token to be used for subsequent requests.
              type: string
          schema:
            description: Response containing a single user object.
            properties:
              data:
                properties:
                  avatar:
                    format: uri
                    type: string
                  bio:
                    type: string
                  birthday:
                    format: date-time
                    type: string
                  city:
                    type: string
                  country:
                    maxItems: 10
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  deleted:
                    type: boolean
                  deleted_at:
                    format: date-time
                    type: string
                  email:
                    type: string
                  first_name:
                    type: string
                  gender:
                    enum:
                      - Male
                      - Female
                      - Non-binary
                      - Transgender
                      - Genderqueer
                      - Genderfluid
                      - Agender
                      - Two-spirit
                      - Bigender
                      - Other
                      - Prefer not to say
                    type: string
                  id:
                    type: string
                  interests:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  languages:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  last_name:
                    type: string
                  phone:
                    type: string
                  status:
                    enum:
                      - active
                      - suspended
                      - pending
                      - deleted
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              error:
                example: Invalid or expired phone verification code.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: User registered successfully.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Incorrect phone number or OTP.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Verification code is invalid or expired.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Confirms user registration via phone verification code.
      operationId: phoneSignUpOTPConfirm
      summary: User signup via phone number confirmation
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /users/social/auth:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: The user cred to authenticate
          in: body
          name: body
          required: true
          schema:
            properties:
              id_token:
                description: The social media token
                type: string
            required:
              - id_token
            type: object
      responses:
        '200':
          description: >-
            Return a user with JWT tokens in headers if exists or create a new
            user
          headers:
            Authorization:
              description: Bearer JWT access token to be used for subsequent requests.
              type: string
          schema:
            description: Response for user social authentication.
            properties:
              data:
                properties:
                  avatar:
                    format: uri
                    type: string
                  bio:
                    type: string
                  birthday:
                    format: date-time
                    type: string
                  city:
                    type: string
                  country:
                    maxItems: 10
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  email:
                    type: string
                  first_name:
                    type: string
                  gender:
                    enum:
                      - Male
                      - Female
                      - Non-binary
                      - Transgender
                      - Genderqueer
                      - Genderfluid
                      - Agender
                      - Two-spirit
                      - Bigender
                      - Other
                      - Prefer not to say
                    type: string
                  id:
                    type: string
                  interests:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  languages:
                    items:
                      type: string
                    maxItems: 10
                    type: array
                  last_name:
                    type: string
                  phone:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              error:
                example: Social authentication failed.
                type: string
              success:
                example: true
                type: boolean
              toast:
                example: Social authentication successful.
                type: string
            required:
              - success
              - data
            type: object
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Incorrect phone number or OTP.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Verification code is invalid or expired.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security: []
      tags:
        - user
      description: Authenticates user via social login provider.
      operationId: socialAuth
      summary: User auth via social media
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/users/{userId}/profile':
    get:
      produces:
        - application/json
      parameters:
        - description: The unique identifier of the user
          in: path
          name: userId
          required: true
          type: string
      responses:
        '200':
          description: The user profile in enhanced format
          schema:
            $ref: '#/definitions/EnhancedUserProfileResponse'
        '400':
          description: Invalid request
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                example: Invalid user ID format.
                type: string
              success:
                example: false
                type: boolean
              toast:
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
        '401':
          description: Unauthorized - Authentication required
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Authentication required.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Please log in to view user profiles.
                type: string
            required:
              - success
              - error
            type: object
        '403':
          description: Forbidden - User profile may be private or inaccessible
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: Access to this user profile is restricted.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: You don't have permission to view this profile.
                type: string
            required:
              - success
              - error
            type: object
        '404':
          description: User not found
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: User not found.
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: User profile not available.
                type: string
            required:
              - success
              - error
            type: object
        default:
          description: Default error response
          schema:
            description: Standard error response model for failed requests.
            properties:
              error:
                description: Error message describing the failure.
                example: An unexpected error occurred
                type: string
              success:
                description: Indicates if the request was successful.
                example: false
                type: boolean
              toast:
                description: Optional toast message for the client UI.
                example: Unable to process your request.
                type: string
            required:
              - success
              - error
            type: object
      security:
        - jwtAuth: []
      tags:
        - user
      description: >-
        Retrieves a user's enhanced profile information by user ID. Returns the
        same profile format as /users/me, but allows viewing other users'
        profiles. Requires authentication to prevent brute-force enumeration.
      operationId: getUserProfileById
      summary: Get user profile by ID
      x-google-backend:
        address: 'https://user-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /verifications:
    get:
      produces:
        - application/json
      parameters:
        - default: 10
          description: Number of results to return
          in: query
          maximum: 50
          minimum: 1
          name: limit
          required: false
          type: integer
        - default: 0
          description: Number of results to skip
          in: query
          minimum: 0
          name: offset
          required: false
          type: integer
      responses:
        '200':
          description: Verification history retrieved successfully
          schema:
            allOf:
              - $ref: '#/definitions/APIResponse'
              - properties:
                  data:
                    $ref: '#/definitions/VerificationListResponse'
                type: object
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/APIResponse'
      security:
        - jwtAuth: []
      tags:
        - verification
      description: Get current user's verification submissions
      operationId: listMyVerifications
      summary: Get user's verification history
      x-google-backend:
        address: 'https://verification-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /verifications/background:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: en
          description: Preferred language for response messages
          enum:
            - en
            - en-US
            - fr
            - fr-FR
            - es
            - es-ES
          in: header
          name: Accept-Language
          required: false
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/BackgroundSubmissionRequest'
      responses:
        '200':
          description: Background verification submitted successfully
          schema:
            allOf:
              - $ref: '#/definitions/APIResponse'
              - properties:
                  data:
                    $ref: '#/definitions/VerificationSubmissionResponse'
                type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/APIResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/APIResponse'
      security:
        - jwtAuth: []
      tags:
        - verification
      description: >
        Submit background verification request. Background checks typically use
        external services that handle document collection.


        **Language Support**: Include `Accept-Language` header to receive
        localized responses:

        - `en` or `en-US` for English (default)

        - `fr` or `fr-FR` for French

        - `es` or `es-ES` for Spanish


        Example: `Accept-Language: fr-FR,fr;q=0.9,en;q=0.8`
      operationId: submitBackgroundVerification
      summary: Submit background verification request
      x-google-backend:
        address: 'https://verification-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /verifications/facematch:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: en
          description: Preferred language for response messages
          enum:
            - en
            - en-US
            - fr
            - fr-FR
            - es
            - es-ES
          in: header
          name: Accept-Language
          required: false
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/FacematchSubmissionRequest'
      responses:
        '200':
          description: Facematch verification submitted successfully
          schema:
            allOf:
              - $ref: '#/definitions/APIResponse'
              - properties:
                  data:
                    $ref: '#/definitions/VerificationSubmissionResponse'
                type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/APIResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/APIResponse'
      security:
        - jwtAuth: []
      tags:
        - verification
      description: >
        Submit facematch verification with ID document and selfie photos.


        **Language Support**: Include `Accept-Language` header to receive
        localized responses:

        - `en` or `en-US` for English (default)

        - `fr` or `fr-FR` for French

        - `es` or `es-ES` for Spanish


        Example: `Accept-Language: fr-FR,fr;q=0.9,en;q=0.8`
      operationId: submitFacematchVerification
      summary: Submit facematch verification request
      x-google-backend:
        address: 'https://verification-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /verifications/location:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: en
          description: Preferred language for response messages
          enum:
            - en
            - en-US
            - fr
            - fr-FR
            - es
            - es-ES
          in: header
          name: Accept-Language
          required: false
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/LocationSubmissionRequest'
      responses:
        '200':
          description: Location verification submitted successfully
          schema:
            allOf:
              - $ref: '#/definitions/APIResponse'
              - properties:
                  data:
                    $ref: '#/definitions/VerificationSubmissionResponse'
                type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/APIResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/APIResponse'
      security:
        - jwtAuth: []
      tags:
        - verification
      description: >
        Submit location verification with GPS coordinates.


        **Language Support**: Include `Accept-Language` header to receive
        localized responses:

        - `en` or `en-US` for English (default)

        - `fr` or `fr-FR` for French

        - `es` or `es-ES` for Spanish


        Example: `Accept-Language: fr-FR,fr;q=0.9,en;q=0.8`
      operationId: submitLocationVerification
      summary: Submit location verification request
      x-google-backend:
        address: 'https://verification-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /verifications/voice:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - default: en
          description: Preferred language for response messages
          enum:
            - en
            - en-US
            - fr
            - fr-FR
            - es
            - es-ES
          in: header
          name: Accept-Language
          required: false
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/VoiceSubmissionRequest'
      responses:
        '200':
          description: Voice verification submitted successfully
          schema:
            allOf:
              - $ref: '#/definitions/APIResponse'
              - properties:
                  data:
                    $ref: '#/definitions/VerificationSubmissionResponse'
                type: object
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/APIResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/APIResponse'
      security:
        - jwtAuth: []
      tags:
        - verification
      description: >
        Submit voice verification with audio file for voice biometrics.


        **Language Support**: Include `Accept-Language` header to receive
        localized responses:

        - `en` or `en-US` for English (default)

        - `fr` or `fr-FR` for French

        - `es` or `es-ES` for Spanish


        Example: `Accept-Language: fr-FR,fr;q=0.9,en;q=0.8`
      operationId: submitVoiceVerification
      summary: Submit voice verification request
      x-google-backend:
        address: 'https://verification-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/verifications/{verification_id}':
    get:
      produces:
        - application/json
      parameters:
        - description: Verification ID
          in: path
          name: verification_id
          required: true
          type: string
      responses:
        '200':
          description: Verification details retrieved successfully
          schema:
            allOf:
              - $ref: '#/definitions/APIResponse'
              - properties:
                  data:
                    $ref: '#/definitions/VerificationStatusResponse'
                type: object
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/APIResponse'
        '403':
          description: Access denied
          schema:
            $ref: '#/definitions/APIResponse'
        '404':
          description: Verification not found
          schema:
            $ref: '#/definitions/APIResponse'
      security:
        - jwtAuth: []
      tags:
        - verification
      description: Get verification details by ID
      operationId: getVerification
      summary: Get verification details
      x-google-backend:
        address: 'https://verification-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/verifications/{verification_id}/results':
    get:
      produces:
        - application/json
      parameters:
        - description: Verification ID
          in: path
          name: verification_id
          required: true
          type: string
      responses:
        '200':
          description: Verification results retrieved successfully
          schema:
            allOf:
              - $ref: '#/definitions/APIResponse'
              - properties:
                  data:
                    $ref: '#/definitions/VerificationResultResponse'
                type: object
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/APIResponse'
        '403':
          description: Access denied
          schema:
            $ref: '#/definitions/APIResponse'
        '404':
          description: Verification not found or results not available
          schema:
            $ref: '#/definitions/APIResponse'
      security:
        - jwtAuth: []
      tags:
        - verification
      description: Get AI validation results for a verification
      operationId: getVerificationResults
      summary: Get verification AI results
      x-google-backend:
        address: 'https://verification-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  '/webhooks/{provider}':
    post:
      consumes:
        - application/json
      produces:
        - text/plain
      parameters:
        - description: 'Payment provider (stripe, paypal, apple_pay)'
          enum:
            - stripe
            - paypal
            - apple_pay
          in: path
          name: provider
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            description: Provider-specific webhook payload
            type: object
      responses:
        '200':
          description: Webhook processed successfully
          schema:
            example: Webhook processed successfully
            type: string
        '400':
          description: Bad request
          schema:
            type: string
        '500':
          description: Internal server error
          schema:
            type: string
      security: []
      tags:
        - webhook
      description: Handles webhook events from payment providers
      operationId: handleProviderWebhook
      summary: Payment provider webhook
      x-google-backend:
        address: 'https://payment-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /wishlists:
    delete:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: 'Listing to remove, with optional tag'
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/RemoveListingRequest'
      responses:
        '200':
          description: Listing removed from wishlist
          schema:
            $ref: '#/definitions/APIResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - wishlist
      description: >-
        Removes a specific listing from the user's wishlist, optionally from a
        specific tag.
      operationId: removeListingFromWishlist
      summary: Remove a single listing from wishlist
      x-google-backend:
        address: 'https://wishlist-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: All listings in wishlist
          schema:
            $ref: '#/definitions/APIResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - wishlist
      description: >-
        Retrieves all wishlist items grouped by tags for the currently
        authenticated user.
      operationId: getAllListingsInWishlist
      summary: Get all listings in wishlist for the authenticated user
      x-google-backend:
        address: 'https://wishlist-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Move a single listing between tags
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/MoveListingRequest'
      responses:
        '200':
          description: Listing moved to new tag
          schema:
            $ref: '#/definitions/APIResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - wishlist
      description: Moves a listing from one tag to another within the user's wishlist.
      operationId: moveListingBetweenTags
      summary: Move a single listing to a different tag
      x-google-backend:
        address: 'https://wishlist-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: 'Listing to add, with optional tag'
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/AddListingRequest'
      responses:
        '201':
          description: Listing added to wishlist
          schema:
            $ref: '#/definitions/APIResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - wishlist
      description: >-
        Adds a new listing to the user's wishlist, optionally organizing it
        under a specific tag.
      operationId: addListingToWishlist
      summary: >-
        Add a single listing to wishlist for the authenticated user (optionally
        with tag)
      x-google-backend:
        address: 'https://wishlist-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /wishlists/heartbeat:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Heartbeat
          schema:
            example: OK
            type: string
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default error response
          schema:
            $ref: '#/definitions/ErrorResponse'
      security: []
      tags:
        - wishlist
      description: >-
        Health check endpoint for the wishlist service to verify it is running
        and accessible.
      operationId: wishlistHeartbeat
      summary: Wishlist service heartbeat
      x-google-backend:
        address: 'https://wishlist-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /wishlists/tags:
    delete:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Tag to delete
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/DeleteTagRequest'
      responses:
        '200':
          description: Tag deleted from wishlist
          schema:
            $ref: '#/definitions/APIResponse'
        '400':
          description: Bad request
          schema:
            $ref: '#/definitions/ErrorResponse'
        '401':
          description: Unauthorized (missing or invalid token)
          schema:
            $ref: '#/definitions/ErrorResponse'
        '404':
          description: Not found
          schema:
            $ref: '#/definitions/ErrorResponse'
        default:
          description: Default
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - wishlist
      description: >-
        Permanently removes a tag and all associated listings from the user's
        wishlist.
      operationId: deleteTagFromWishlist
      summary: Delete an entire tag and all its listings from wishlist
      x-google-backend:
        address: 'https://wishlist-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /ws:
    get:
      produces:
        - application/json
      parameters:
        - description: JWT token for authentication
          in: query
          name: token
          required: true
          type: string
        - description: Join specific conversation
          in: query
          name: conversation_id
          required: false
          type: string
      responses:
        '101':
          description: WebSocket connection established
        '200':
          description: Connection successful
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/ErrorResponse'
      security:
        - jwtAuth: []
      tags:
        - Real-time
      description: Establish WebSocket connection for real-time messaging
      operationId: websocket
      summary: WebSocket connection
      x-google-backend:
        address: 'https://chat-service-981292602655.us-central1.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
definitions:
  APIResponse:
    description: Standard API response for wishlist grouped by tag.
    example:
      data:
        '0':
          comment: Great place! Very clean and exactly as described.
          created_at: '2025-09-26T12:00:00Z'
          edit_deadline: '2025-09-28T12:00:00Z'
          emoji_sentiment: "\U0001F44D\U0001F44D"
          id: rvw_123
          listing:
            id: listing_123
            thumbnail: 'https://example.com/thumb.jpg'
            title: Cozy Downtown Apartment
          metrics:
            accuracy: 4.5
            check_in: 4
            cleanliness: 5
            location: 5
            value: 4.5
          overall_rating: 4.5
          reviewer:
            avatar: 'https://example.com/alice.jpg'
            id: user_abc
            name: Alice
        id: verification-123
        status: pending
      error: ''
      success: true
      toast: Verification submitted successfully
    properties:
      data:
        description: Response data
        items:
          properties:
            listings:
              items:
                properties:
                  listing_id:
                    type: string
                  location:
                    description: Optional location preview
                    properties:
                      city:
                        type: string
                      country:
                        type: string
                    type: object
                  price:
                    description: Optional price preview (per night)
                    format: float
                    type: number
                  rating:
                    description: Optional rating preview
                    format: float
                    type: number
                  thumbnail:
                    format: uri
                    type: string
                  title:
                    description: Optional listing title preview
                    type: string
                required:
                  - listing_id
                type: object
              type: array
            tag:
              example: vegas
              type: string
          type: object
        type: object
      error:
        description: Error message if request failed (localized)
        example: ''
        type: string
      success:
        description: Whether the request was successful
        example: true
        type: boolean
      toast:
        description: >-
          User-friendly message for display (localized based on Accept-Language
          header)
        example: Wishlist updated successfully.
        type: string
    required:
      - success
      - data
    type: object
  AddListingRequest:
    properties:
      listing:
        properties:
          listing_id:
            type: string
          thumbnail:
            format: uri
            type: string
        required:
          - listing_id
        type: object
      tag:
        example: vegas
        maxLength: 32
        type: string
    required:
      - listing
    type: object
  ApiResponse:
    properties:
      data:
        type: object
      error:
        type: string
      success:
        type: boolean
      toast:
        description: Localized user-facing message
        type: string
    required:
      - success
      - toast
    type: object
  ApiResponseAvailabilityCalendar:
    description: Standard API response for listing availability calendar.
    properties:
      data:
        $ref: '#/definitions/AvailabilityCalendar'
      error:
        description: Error message if request failed.
        example: ''
        type: string
      success:
        description: Indicates if the request was successful.
        example: true
        type: boolean
      toast:
        description: Optional toast message for the client UI.
        example: ''
        type: string
    required:
      - success
      - data
    type: object
  ApiResponseBooking:
    properties:
      data:
        allOf:
          - $ref: '#/definitions/Booking'
        type: object
        x-nullable: true
      error:
        example: ''
        type: string
      success:
        example: true
        type: boolean
      toast:
        example: Booking processed successfully.
        type: string
    required:
      - success
      - data
    type: object
  ApiResponseBookings:
    description: Standard API response for multiple bookings.
    properties:
      data:
        description: Array of booking objects.
        items:
          $ref: '#/definitions/Booking'
        type: array
      error:
        description: Error message if request failed.
        example: ''
        type: string
      success:
        description: Indicates if the request was successful.
        example: true
        type: boolean
      toast:
        description: Optional toast message for the client UI.
        example: Draft bookings retrieved successfully
        type: string
    required:
      - success
      - data
    type: object
  AvailabilityCalendar:
    description: Listing availability calendar data.
    properties:
      end_date:
        description: End date of the availability check
        example: '2024-03-01'
        format: date
        type: string
      listing_id:
        description: Listing ID
        example: listing123
        type: string
      start_date:
        description: Start date of the availability check
        example: '2024-01-01'
        format: date
        type: string
      unavailable_dates:
        description: List of unavailable dates (YYYY-MM-DD format)
        example:
          - '2024-01-15'
          - '2024-01-16'
          - '2024-02-10'
        items:
          format: date
          type: string
        type: array
    required:
      - listing_id
      - start_date
      - end_date
      - unavailable_dates
    type: object
  BackgroundSubmissionRequest:
    properties:
      device_info:
        default: {}
        description: Device information for security
        type: object
      metadata:
        default: {}
        description: Additional metadata
        type: object
    type: object
  BookExperienceRequest:
    properties:
      booking_date:
        format: date-time
        type: string
      participants:
        minimum: 1
        type: integer
      payment_method:
        type: string
    required:
      - booking_date
      - participants
      - payment_method
    type: object
  Booking:
    properties:
      host:
        $ref: '#/definitions/User'
      amount:
        example: 49.99
        format: float
        type: number
      booking_code:
        description: 'Human-friendly booking code (e.g., CR-8J3K2P)'
        example: CR-8J3K2P
        type: string
      cancellation_policy:
        example: Flexible
        type: string
      check_in:
        format: date-time
        type: string
      check_out:
        format: date-time
        type: string
      created_at:
        example: '2025-09-02T12:00:00Z'
        format: date-time
        type: string
      currency:
        example: USD
        type: string
      days:
        example: 4
        type: integer
      discount_code:
        example: SUMMER25
        type: string
      guest:
        $ref: '#/definitions/User'
      guest_review_host:
        description: Whether the guest has reviewed the host
        type: boolean
      guest_review_listing:
        description: Whether the guest has reviewed the listing
        type: boolean
      guests:
        example: 2
        type: integer
      host_review_guest:
        description: Whether the host has reviewed the guest
        type: boolean
      id:
        example: bkg_001
        type: string
      listing:
        $ref: '#/definitions/ListingInfo'
      notes:
        example: Guest arriving late.
        type: string
      payment_id:
        example: pay_001
        type: string
      payment_intent_id:
        description: Stripe payment intent ID (for draft bookings)
        example: pi_1234567890
        type: string
      rate:
        example: 9.99
        format: float
        type: number
      rating:
        example: 4.5
        format: float
        type: number
      review_create_deadline:
        description: Deadline for submitting reviews
        format: date-time
        type: string
      review_edit_deadline:
        description: Deadline for editing reviews
        format: date-time
        type: string
      status:
        description: >
          Booking status lifecycle:

          - draft: Draft booking before payment intent creation

          - pending: Initial status when booking is created/finalized
          (non-instant, waiting for host)

          - accepted: Payment can proceed (instant booking or host-approved
          non-instant booking)

          - rejected: Host has declined the booking request

          - cancelled: Booking cancelled by guest or host

          - unpaid: Payment required but not completed (payment failed,
          canceled, or requires action)

          - confirmed: Payment successful, booking is active

          - completed: Booking period ended, final payment processing triggered
        enum:
          - draft
          - pending
          - accepted
          - rejected
          - cancelled
          - unpaid
          - confirmed
          - completed
        example: draft
        type: string
      time_zone:
        example: America/New_York
        type: string
    required:
      - id
      - listing
      - guest
      - host
      - check_in
      - check_out
    type: object
  BookingListResponse:
    properties:
      bookings:
        items:
          $ref: '#/definitions/BookingResponse'
        type: array
      pagination:
        $ref: '#/definitions/Pagination'
    required:
      - bookings
      - pagination
    type: object
  BookingRequest:
    properties:
      check_in:
        format: date-time
        type: string
      check_out:
        format: date-time
        type: string
      deviceInfo:
        properties:
          app_version:
            type: string
          device_id:
            type: string
          device_type:
            type: string
          os_version:
            type: string
        type: object
      duration_type:
        description: Duration unit for the booking
        enum:
          - hours
          - days
          - weeks
          - minutes
        type: string
      duration_value:
        description: 'Duration value (e.g., 2 hours, 3 days, 1 week)'
        type: integer
      guest_id:
        type: string
      guests:
        type: integer
      listing_id:
        type: string
      notes:
        type: string
      payment_id:
        type: string
      promo_code:
        type: string
      referral_code:
        type: string
      space_type:
        description: Type of space being booked
        enum:
          - couchsurf
          - workspace
          - storage
          - shower
          - parking
        type: string
    required:
      - listing_id
      - guest_id
      - check_in
      - check_out
      - guests
    type: object
  BookingResponse:
    properties:
      booking_date:
        format: date-time
        type: string
      content_id:
        type: string
      created_at:
        format: date-time
        type: string
      currency:
        type: string
      id:
        type: string
      participants:
        type: integer
      payment_status:
        type: string
      status:
        type: string
      total_amount:
        type: number
      type:
        type: string
    required:
      - id
      - type
      - content_id
      - status
      - booking_date
      - participants
      - total_amount
      - currency
      - payment_status
      - created_at
    type: object
  BookingsSplitResponse:
    properties:
      error:
        example: ''
        type: string
      pagination:
        properties:
          limit:
            example: 10
            type: integer
          page:
            example: 1
            type: integer
          pages:
            example: 3
            type: integer
          total:
            example: 25
            type: integer
        required:
          - page
          - limit
          - total
          - pages
        type: object
      past:
        items:
          $ref: '#/definitions/Booking'
        type: array
      success:
        example: true
        type: boolean
      toast:
        example: Bookings fetched
        type: string
      upcoming:
        items:
          $ref: '#/definitions/Booking'
        type: array
    required:
      - success
      - upcoming
      - past
      - pagination
    type: object
  CancelBookingRequest:
    description: Request body for cancelling a booking
    properties:
      actor:
        description: Who is cancelling the booking
        enum:
          - guest
          - host
        example: guest
        type: string
      reason:
        description: Cancellation reason code (must match actor type)
        example: change_of_plans
    required:
      - actor
      - reason
    type: object
  CommentListResponse:
    properties:
      comments:
        items:
          $ref: '#/definitions/CommentResponse'
        type: array
      pagination:
        $ref: '#/definitions/Pagination'
    required:
      - comments
      - pagination
    type: object
  CommentRequest:
    properties:
      content:
        maxLength: 1000
        type: string
    required:
      - content
    type: object
  CommentResponse:
    properties:
      content:
        type: string
      created_at:
        format: date-time
        type: string
      id:
        type: string
      updated_at:
        format: date-time
        type: string
      user_avatar:
        type: string
      user_name:
        type: string
    required:
      - id
      - content
      - user_name
      - user_avatar
      - created_at
      - updated_at
    type: object
  ConnectToPlanRequest:
    properties:
      message:
        maxLength: 1000
        type: string
      user_avatar:
        format: uri
        type: string
      user_end_date:
        format: date-time
        type: string
      user_name:
        maxLength: 100
        type: string
      user_start_date:
        format: date-time
        type: string
    required:
      - user_name
    type: object
  ConnectionListResponse:
    allOf:
      - $ref: '#/definitions/ApiResponse'
      - properties:
          data:
            properties:
              connections:
                items:
                  $ref: '#/definitions/ConnectionResponse'
                type: array
              pagination:
                $ref: '#/definitions/Pagination'
            required:
              - connections
              - pagination
            type: object
        type: object
  ConnectionResponse:
    properties:
      created_at:
        format: date-time
        type: string
      id:
        type: string
      message:
        type: string
      user_avatar:
        type: string
      user_end_date:
        format: date-time
        type: string
      user_id:
        type: string
      user_name:
        type: string
      user_start_date:
        format: date-time
        type: string
    required:
      - id
      - user_id
      - user_name
      - created_at
    type: object
  Conversation:
    properties:
      created_at:
        description: When the conversation was created
        example: '2024-01-15T10:30:00Z'
        format: date-time
        type: string
      id:
        description: Unique identifier of the conversation
        example: conv_123456789
        type: string
      last_message:
        $ref: '#/definitions/Message'
      metadata:
        description: Additional conversation metadata
        properties:
          avatar_url:
            description: Conversation avatar URL
            type: string
          description:
            description: Conversation description
            type: string
          title:
            description: Conversation title (for group chats)
            type: string
        type: object
      participants:
        description: List of user IDs participating in the conversation
        example:
          - user_123
          - user_456
        items:
          type: string
        type: array
      status:
        description: Conversation status
        enum:
          - active
          - archived
          - deleted
        example: active
        type: string
      type:
        description: Type of conversation
        enum:
          - direct
          - group
        example: direct
        type: string
      unread_count:
        description: Number of unread messages for current user
        example: 3
        type: integer
      updated_at:
        description: When the conversation was last updated
        example: '2024-01-15T14:45:00Z'
        format: date-time
        type: string
    required:
      - id
      - type
      - participants
      - created_at
      - updated_at
    type: object
  CreateConversationRequest:
    properties:
      metadata:
        description: Optional conversation metadata
        properties:
          description:
            description: Conversation description
            type: string
          title:
            description: Conversation title (for group chats)
            type: string
        type: object
      participants:
        description: List of user IDs (exactly 2 for direct conversations)
        example:
          - user_123
          - user_456
        items:
          type: string
        maxItems: 2
        minItems: 2
        type: array
      type:
        description: Type of conversation to create
        enum:
          - direct
          - group
        example: direct
        type: string
    required:
      - participants
      - type
    type: object
  CreateEventRequest:
    properties:
      currency:
        maxLength: 3
        minLength: 3
        type: string
      description:
        type: string
      end_time:
        format: date-time
        type: string
      location:
        $ref: '#/definitions/Location'
      max_attendees:
        minimum: 1
        type: integer
      price:
        minimum: 0
        type: number
      start_time:
        format: date-time
        type: string
      title:
        maxLength: 200
        type: string
    required:
      - title
      - description
      - location
      - start_time
      - end_time
      - max_attendees
      - price
      - currency
    type: object
  CreateExperienceRequest:
    properties:
      currency:
        maxLength: 3
        minLength: 3
        type: string
      description:
        type: string
      duration_hours:
        minimum: 1
        type: integer
      location:
        $ref: '#/definitions/Location'
      max_group_size:
        minimum: 1
        type: integer
      price:
        minimum: 0
        type: number
      title:
        maxLength: 200
        type: string
    required:
      - title
      - description
      - location
      - price
      - currency
      - duration_hours
      - max_group_size
    type: object
  CreateGuideRequest:
    properties:
      avatar:
        format: uri
        type: string
      bio:
        maxLength: 500
        type: string
      languages:
        items:
          type: string
        type: array
      location:
        $ref: '#/definitions/Location'
      name:
        maxLength: 100
        type: string
      specialties:
        items:
          type: string
        type: array
    required:
      - name
      - bio
      - location
      - languages
      - specialties
    type: object
  CreatePaymentIntentRequest:
    properties:
      amount:
        description: Payment amount
        example: 150
        format: float
        type: number
      booking_id:
        description: Booking ID
        example: booking_123
        type: string
      currency:
        description: Currency code
        example: CAD
        type: string
      customer_id:
        description: Stripe customer ID (optional)
        example: cus_123
        type: string
      description:
        description: Payment description (optional)
        example: Booking payment for Downtown Apartment
        type: string
      guest_id:
        description: Guest user ID
        example: user_123
        type: string
      host_id:
        description: Host user ID
        example: host_456
        type: string
      listing_id:
        description: Listing ID
        example: listing_789
        type: string
    required:
      - booking_id
      - guest_id
      - host_id
      - listing_id
      - amount
      - currency
    type: object
  CreateReelRequest:
    properties:
      author:
        maxLength: 100
        type: string
      author_avatar:
        format: uri
        type: string
      content:
        maxLength: 2000
        type: string
      country_code:
        maxLength: 2
        minLength: 2
        type: string
      image_url:
        format: uri
        type: string
      location:
        maxLength: 100
        type: string
      title:
        maxLength: 200
        type: string
      video_url:
        format: uri
        type: string
    required:
      - title
      - location
      - video_url
      - image_url
      - country_code
      - content
      - author
      - author_avatar
    type: object
  CreateRefundRequest:
    properties:
      amount:
        description: 'Refund amount (optional, defaults to full refund)'
        example: 150
        format: float
        type: number
      booking_id:
        description: Booking ID
        example: booking_123
        type: string
      payment_intent_id:
        description: Payment intent ID to refund
        example: pi_1234567890
        type: string
      reason:
        description: Refund reason (optional)
        example: customer_request
        type: string
    required:
      - payment_intent_id
      - booking_id
    type: object
  CreateStoryRequest:
    properties:
      author:
        maxLength: 100
        type: string
      author_avatar:
        format: uri
        type: string
      content:
        maxLength: 2000
        type: string
      country_code:
        maxLength: 2
        minLength: 2
        type: string
      image_url:
        format: uri
        type: string
      location:
        maxLength: 100
        type: string
      title:
        maxLength: 200
        type: string
    required:
      - title
      - location
      - image_url
      - country_code
      - content
      - author
      - author_avatar
    type: object
  CreateTravelPlanRequest:
    properties:
      end_date:
        format: date-time
        type: string
      is_confirmed:
        default: false
        type: boolean
      is_draft:
        default: true
        type: boolean
      location:
        maxLength: 200
        type: string
      notes:
        maxLength: 2000
        type: string
      organizer_avatar:
        format: uri
        type: string
      organizer_name:
        maxLength: 100
        type: string
      planned_date:
        format: date-time
        type: string
      start_date:
        format: date-time
        type: string
    required:
      - location
    type: object
  DefaultResponse:
    example:
      error: ''
      success: true
      toast: Operation successful.
    properties:
      error:
        type: string
      success:
        type: boolean
      toast:
        maxLength: 255
        type: string
    required:
      - success
      - toast
    type: object
  DeleteTagRequest:
    properties:
      tag:
        example: old_trip
        maxLength: 32
        type: string
    required:
      - tag
    type: object
  DetectedLocation:
    properties:
      accuracy:
        enum:
          - high
          - medium
          - low
        type: string
      city:
        type: string
      confidence_score:
        format: double
        maximum: 1
        minimum: 0
        type: number
      country:
        type: string
      country_code:
        type: string
      latitude:
        format: double
        type: number
      longitude:
        format: double
        type: number
      region:
        type: string
    required:
      - city
      - country
      - country_code
      - latitude
      - longitude
      - accuracy
    type: object
  Document:
    properties:
      content:
        description: Base64 encoded file content
        example: >-
          iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==
        format: byte
        type: string
      name:
        description: File name
        example: profile-picture.jpg
        type: string
    required:
      - name
      - content
    type: object
  DocumentRequest:
    properties:
      documents:
        description: Array of documents to upload
        items:
          $ref: '#/definitions/Document'
        minItems: 1
        type: array
      type:
        description: Document type/category (determines storage bucket)
        example: profile
        type: string
    required:
      - type
      - documents
    type: object
  EarningsResponse:
    properties:
      data:
        description: Earnings data
        properties:
          currency:
            description: Currency code
            type: string
          period:
            description: Earnings period
            type: string
          total_earnings:
            description: Total earnings amount
            format: float
            type: number
        type: object
      success:
        description: Request success status
        type: boolean
      toast:
        description: Optional toast message for the client UI
        type: string
    required:
      - success
      - data
    type: object
  EnhancedProfileUpdateRequest:
    properties:
      address:
        properties:
          city:
            type: string
          coordinates:
            properties:
              latitude:
                type: number
              longitude:
                type: number
            type: object
          country:
            type: string
          postal_code:
            type: string
          state:
            type: string
          street:
            type: string
        type: object
      basic_info:
        properties:
          age_range:
            enum:
              - '18_24'
              - '25_34'
              - '35_44'
              - '45_54'
              - '55_64'
              - 65_plus
            type: string
          avatar_url:
            format: uri
            type: string
          bio:
            maxLength: 500
            type: string
          birthday:
            format: date-time
            type: string
          city:
            maxLength: 100
            type: string
          country:
            maxLength: 100
            type: string
          first_name:
            maxLength: 50
            type: string
          gender:
            enum:
              - male
              - female
              - lgbtq
              - other
              - prefer_not_to_say
            type: string
          last_name:
            maxLength: 50
            type: string
          occupation:
            maxLength: 100
            type: string
        type: object
      hosting_preferences:
        properties:
          accepts_pets:
            type: boolean
          house_rules:
            items:
              maxLength: 100
              type: string
            maxItems: 10
            type: array
          preferred_guest_age_range:
            items:
              enum:
                - '18_24'
                - '25_34'
                - '35_44'
                - '45_54'
                - '55_64'
                - 65_plus
              type: string
            type: array
          space_type:
            enum:
              - private_room
              - shared_room
              - entire_place
              - common_area
            type: string
        type: object
      interests_hobbies:
        properties:
          hobbies:
            items:
              maxLength: 50
              type: string
            maxItems: 10
            type: array
          interests:
            items:
              maxLength: 50
              type: string
            maxItems: 10
            type: array
          languages_learning:
            items:
              maxLength: 30
              type: string
            maxItems: 10
            type: array
          languages_spoken:
            items:
              maxLength: 30
              type: string
            maxItems: 10
            type: array
        type: object
      lifestyle:
        properties:
          sleep_schedule:
            enum:
              - early_bird
              - night_owl
              - flexible
              - varies
            type: string
          smoking_preference:
            enum:
              - non_smoker
              - occasional_smoker
              - regular_smoker
              - vaping_only
              - no_preference
            type: string
          social_style:
            enum:
              - social_butterfly
              - prefer_quiet
              - balanced
              - depends_on_mood
            type: string
        type: object
      personal:
        properties:
          fun_fact:
            maxLength: 300
            type: string
          why_host_travel:
            maxLength: 500
            type: string
        type: object
      travel_experience:
        properties:
          amazing_experience:
            maxLength: 500
            type: string
          countries_visited:
            items:
              maxLength: 50
              type: string
            maxItems: 50
            type: array
          last_country_visited:
            maxLength: 50
            type: string
          travel_frequency:
            enum:
              - weekly
              - monthly
              - quarterly
              - yearly
              - rarely
            type: string
        type: object
    type: object
  EnhancedUserProfileResponse:
    properties:
      data:
        properties:
          address:
            type: object
          badges:
            properties:
              badge_counts:
                type: object
              earned_badges:
                items:
                  type: object
                type: array
            type: object
          basic_info:
            properties:
              age_range:
                type: string
              avatar_url:
                format: uri
                type: string
              bio:
                type: string
              birthday:
                format: date-time
                type: string
              city:
                type: string
              country:
                type: string
              email:
                format: email
                type: string
              first_name:
                type: string
              gender:
                type: string
              last_name:
                type: string
              occupation:
                type: string
              phone:
                type: string
              registration_method:
                type: string
            type: object
          contacts:
            items:
              type: object
            type: array
          events:
            items:
              type: object
            type: array
          has_listing:
            description: Whether the user has any active listings (is a host)
            example: true
            type: boolean
          hosting_preferences:
            properties:
              accepts_pets:
                type: boolean
              house_rules:
                items:
                  type: string
                type: array
              preferred_guest_age_range:
                items:
                  type: string
                type: array
              space_type:
                type: string
            type: object
          id:
            type: string
          interests_hobbies:
            properties:
              hobbies:
                items:
                  type: string
                type: array
              interests:
                items:
                  type: string
                type: array
              languages_learning:
                items:
                  type: string
                type: array
              languages_spoken:
                items:
                  type: string
                type: array
            type: object
          lifestyle:
            properties:
              sleep_schedule:
                type: string
              smoking_preference:
                type: string
              social_style:
                type: string
            type: object
          personal:
            properties:
              fun_fact:
                type: string
              why_host_travel:
                type: string
            type: object
          system_info:
            properties:
              created_at:
                format: date-time
                type: string
              deleted:
                type: boolean
              deleted_at:
                format: date-time
                type: string
              fcm_token:
                type: string
              roles:
                items:
                  type: string
                type: array
              status:
                type: string
              updated_at:
                format: date-time
                type: string
            type: object
          travel_experience:
            properties:
              amazing_experience:
                type: string
              countries_visited:
                items:
                  type: string
                type: array
              last_country_visited:
                type: string
              travel_frequency:
                type: string
            type: object
          verifications:
            description: List of user verification records
            items:
              properties:
                expires_at:
                  description: When this verification expires (optional)
                  format: date-time
                  type: string
                  x-nullable: true
                status:
                  description: Current verification status
                  enum:
                    - pending
                    - approved
                    - rejected
                    - not_started
                  example: approved
                  type: string
                timestamp:
                  description: When this verification was created/updated
                  example: '2025-01-01T00:00:00Z'
                  format: date-time
                  type: string
                type:
                  description: Type of verification
                  enum:
                    - facematch
                    - background
                    - location
                    - voice
                    - livevideo
                    - pose
                    - peer
                  example: facematch
                  type: string
              type: object
            type: array
        type: object
      error:
        type: string
      success:
        example: true
        type: boolean
      toast:
        example: Enhanced user profile retrieved successfully.
        type: string
    required:
      - success
      - data
    type: object
  Error:
    properties:
      code:
        description: Error code
        example: VALIDATION_ERROR
        type: string
      details:
        description: Additional error details
        type: object
      message:
        description: Human-readable error message
        example: Invalid request parameters
        type: string
      timestamp:
        description: When the error occurred
        format: date-time
        type: string
    required:
      - code
      - message
    type: object
  ErrorResponse:
    description: Standard error response model for failed requests.
    properties:
      error:
        description: Error message describing the failure.
        example: Failed to parse request body
        properties:
          code:
            description: Error code
            example: VALIDATION_ERROR
            type: string
          details:
            description: Additional error details
            type: object
          message:
            description: Human-readable error message
            example: Invalid request parameters
            type: string
          timestamp:
            description: When the error occurred
            format: date-time
            type: string
        required:
          - code
          - message
        type: object
      message:
        description: User-friendly error message
        example: Please check your input and try again
        type: string
      success:
        description: Indicates if the request was successful.
        example: false
        type: boolean
      toast:
        description: Optional toast message for the client UI.
        example: Please check your input and try again.
        type: string
    required:
      - success
      - error
    type: object
  EventJoinResponse:
    properties:
      attendees:
        type: integer
      message:
        type: string
      success:
        type: boolean
    required:
      - success
      - message
      - attendees
    type: object
  EventListResponse:
    properties:
      events:
        items:
          $ref: '#/definitions/EventResponse'
        type: array
      pagination:
        $ref: '#/definitions/Pagination'
    required:
      - events
      - pagination
    type: object
  EventResponse:
    properties:
      attendees:
        type: integer
      created_at:
        format: date-time
        type: string
      currency:
        type: string
      description:
        type: string
      end_time:
        format: date-time
        type: string
      id:
        type: string
      location:
        $ref: '#/definitions/Location'
      max_attendees:
        type: integer
      price:
        type: number
      start_time:
        format: date-time
        type: string
      title:
        type: string
    required:
      - id
      - title
      - description
      - location
      - start_time
      - end_time
      - max_attendees
      - attendees
      - price
      - currency
      - created_at
    type: object
  ExperienceListResponse:
    properties:
      experiences:
        items:
          $ref: '#/definitions/ExperienceResponse'
        type: array
      pagination:
        $ref: '#/definitions/Pagination'
    required:
      - experiences
      - pagination
    type: object
  ExperienceResponse:
    properties:
      available:
        type: boolean
      bookings:
        type: integer
      created_at:
        format: date-time
        type: string
      currency:
        type: string
      description:
        type: string
      duration_hours:
        type: integer
      id:
        type: string
      likes:
        type: integer
      location:
        $ref: '#/definitions/Location'
      max_group_size:
        type: integer
      price:
        type: number
      title:
        type: string
      views:
        type: integer
    required:
      - id
      - title
      - description
      - location
      - price
      - currency
      - duration_hours
      - max_group_size
      - available
      - likes
      - views
      - bookings
      - created_at
    type: object
  FacematchSubmissionRequest:
    properties:
      back_image_url:
        description: URL of the back side of the ID document
        format: uri
        type: string
      device_info:
        default: {}
        description: Device information for security
        type: object
      document_type:
        description: Type of ID document being verified
        enum:
          - drivers_license
          - passport
          - national_id
        type: string
      front_image_url:
        description: URL of the front side of the ID document
        format: uri
        type: string
      metadata:
        default: {}
        description: Additional metadata
        type: object
      selfie_image_url:
        description: URL of the selfie photo for face matching
        format: uri
        type: string
    required:
      - document_type
      - front_image_url
      - back_image_url
      - selfie_image_url
    type: object
  FeedResponse:
    properties:
      feed:
        items: {}
        type: array
      pagination:
        $ref: '#/definitions/Pagination'
    required:
      - feed
      - pagination
    type: object
  FinalizeBookingRequest:
    description: Full booking details to finalize a draft booking
    properties:
      check_in:
        description: Check-in date and time
        example: '2025-09-15T14:00:00Z'
        format: date-time
        type: string
      check_out:
        description: Check-out date and time
        example: '2025-09-18T11:00:00Z'
        format: date-time
        type: string
      guests:
        description: Number of guests
        example: 2
        minimum: 1
        type: integer
      notes:
        description: Optional notes for the booking
        example: 'Arriving late, will be there around 6 PM'
        type: string
      payment_intent_id:
        description: >-
          Stripe payment intent ID. Used to verify/charge the payment. Actual
          payment confirmation happens via Stripe webhook.
        example: pi_1234567890
        type: string
    required:
      - check_in
      - check_out
      - guests
      - payment_intent_id
    type: object
  FindConversationRequest:
    properties:
      metadata:
        additionalProperties: true
        description: 'Optional metadata to match (e.g., listing_id)'
        example:
          listing_id: MzqmgZXqwi5BraRNEKPA
          listing_title: Beautiful Apartment in Montreal
        type: object
      participants:
        description: List of user IDs (for direct conversations)
        example:
          - user_123
          - user_456
        items:
          type: string
        minItems: 2
        type: array
    required:
      - participants
    type: object
  GeoLocation:
    properties:
      accuracy:
        description: Location accuracy in meters
        format: float
        type: number
      latitude:
        description: Latitude coordinate
        format: float
        maximum: 90
        minimum: -90
        type: number
      longitude:
        description: Longitude coordinate
        format: float
        maximum: 180
        minimum: -180
        type: number
    required:
      - latitude
      - longitude
    type: object
  GuestCancellationReason:
    description: Reason code for guest-initiated cancellations
    enum:
      - change_of_plans
      - accidental_booking
      - travel_issue
      - price_or_payment_issue
      - health_or_emergency
      - other
    example: change_of_plans
    type: string
  GuestReviewHostMetrics:
    properties:
      cleanliness:
        type: number
      communication:
        type: number
      hospitality:
        type: number
      respectfulness:
        type: number
      would_visit_again:
        type: boolean
    required:
      - hospitality
      - communication
      - cleanliness
      - respectfulness
      - would_visit_again
    type: object
  GuestReviewSpaceMetrics:
    properties:
      accuracy:
        type: number
      check_in:
        type: number
      cleanliness:
        type: number
      location:
        type: number
      value:
        type: number
    required:
      - cleanliness
      - check_in
      - accuracy
      - location
      - value
    type: object
  GuideListResponse:
    properties:
      guides:
        items:
          $ref: '#/definitions/GuideResponse'
        type: array
      pagination:
        $ref: '#/definitions/Pagination'
    required:
      - guides
      - pagination
    type: object
  GuideResponse:
    properties:
      avatar:
        type: string
      bio:
        type: string
      created_at:
        format: date-time
        type: string
      id:
        type: string
      languages:
        items:
          type: string
        type: array
      location:
        $ref: '#/definitions/Location'
      name:
        type: string
      rating:
        format: float
        type: number
      review_count:
        type: integer
      specialties:
        items:
          type: string
        type: array
      verified:
        type: boolean
    required:
      - id
      - name
      - bio
      - location
      - languages
      - specialties
      - rating
      - review_count
      - verified
      - created_at
    type: object
  HealthResponse:
    properties:
      status:
        description: Service health status
        enum:
          - healthy
          - unhealthy
        type: string
      timestamp:
        description: Health check timestamp
        format: date-time
        type: string
    required:
      - status
    type: object
  HeartbeatResponse:
    properties:
      status:
        description: Service status
        enum:
          - healthy
        type: string
      timestamp:
        description: Heartbeat timestamp
        format: date-time
        type: string
      version:
        description: Service version
        type: string
    required:
      - status
      - timestamp
      - version
    type: object
  HostCancellationReason:
    description: Reason code for host-initiated cancellations
    enum:
      - guest_asked_to_cancel
      - guest_no_show
      - guest_payment_issue
      - property_issue
      - host_schedule_issue
      - safety_or_comfort_concern
      - other
    example: guest_asked_to_cancel
    type: string
  HostReviewGuestMetrics:
    properties:
      cleanliness:
        type: number
      communication:
        type: number
      respectfulness:
        type: number
      would_host_again:
        type: boolean
    required:
      - communication
      - cleanliness
      - respectfulness
      - would_host_again
    type: object
  InitiateBookingRequest:
    description: >-
      Minimal payload to initiate a draft booking. All fields except listing_id
      are optional to allow progressive booking flow.
    properties:
      category:
        description: Optional category code for filtering/follow-up purposes
        enum:
          - couchsurf
          - workspace
          - storage
          - shower
          - parking
        example: couchsurf
        type: string
      check_in:
        description: >-
          Optional check-in date and time. If provided, will be stored in draft
          booking.
        example: '2025-09-15T14:00:00Z'
        format: date-time
        type: string
      check_out:
        description: >-
          Optional check-out date and time. If provided, will be stored in draft
          booking.
        example: '2025-09-18T11:00:00Z'
        format: date-time
        type: string
      guests:
        description: >-
          Optional number of guests. If provided, will be stored in draft
          booking.
        example: 2
        minimum: 1
        type: integer
      listing_id:
        description: ID of the listing to book
        example: lst_123456
        type: string
    required:
      - listing_id
    type: object
  LikeResponse:
    properties:
      liked:
        type: boolean
      likes:
        type: integer
    required:
      - liked
      - likes
    type: object
  ListResponse:
    properties:
      data:
        description: List of items
        items:
          type: object
        type: array
      message:
        description: Optional success message
        type: string
      pagination:
        properties:
          has_next:
            description: Whether there are more pages
            example: true
            type: boolean
          has_prev:
            description: Whether there are previous pages
            example: false
            type: boolean
          limit:
            description: Items per page
            example: 20
            type: integer
          page:
            description: Current page number
            example: 1
            type: integer
          pages:
            description: Total number of pages
            example: 5
            type: integer
          total:
            description: Total number of items
            example: 100
            type: integer
        required:
          - page
          - limit
          - total
          - pages
          - has_next
          - has_prev
        type: object
      success:
        example: true
        type: boolean
    required:
      - success
      - data
      - pagination
    type: object
  Listing:
    properties:
      host:
        type: object
      accept_same_day_booking:
        description: >
          Allows same-day bookings (check-in and check-out on same date,
          different times).

          Default: false (opt-in model).
        type: boolean
      active:
        type: boolean
      amenities:
        items:
          type: string
        type: array
      available:
        type: boolean
      cancellation_policy:
        type: string
      category:
        properties:
          code:
            type: string
          description:
            type: string
          name:
            type: string
        type: object
      created_at:
        format: date-time
        type: string
      deleted_at:
        description: Timestamp when listing was soft deleted
        format: date-time
        type: string
        x-nullable: true
      description:
        type: string
      distance:
        format: double
        type: number
      house_rules:
        items:
          type: string
        type: array
      id:
        type: string
      instant_book:
        type: boolean
      location:
        properties:
          latitude:
            format: double
            type: number
          longitude:
            format: double
            type: number
        type: object
      max_guests:
        format: int32
        type: integer
      photos:
        items:
          format: uri
          type: string
        type: array
      price:
        format: double
        type: number
      rating:
        format: double
        type: number
      status:
        description: Current status of the listing
        enum:
          - draft
          - pending
          - active
          - paused
          - archived
          - deleted
        type: string
      thumbnail:
        format: uri
        type: string
      title:
        maxLength: 64
        type: string
      updated_at:
        format: date-time
        type: string
      verified:
        description: Indicates if the listing has been verified
        type: boolean
    required:
      - id
      - title
      - description
      - status
      - location
      - price
      - thumbnail
      - created_at
      - max_guests
      - instant_book
      - amenities
      - cancellation_policy
      - category
      - photos
      - host
      - house_rules
      - updated_at
    type: object
  ListingInfo:
    properties:
      address:
        type: string
      base_rate:
        description: Original listing price per night at booking time
        format: float
        type: number
      category_code:
        description: Listing category code
        type: string
      category_name:
        description: Listing category name
        type: string
      check_in_instructions:
        description: Instructions for check-in (post-booking)
        type: string
      check_out_instructions:
        description: Instructions for check-out (post-booking)
        type: string
      city:
        description: City where the listing is located
        type: string
      country:
        description: Country where the listing is located
        type: string
      currency:
        example: USD
        type: string
      emergency_contact:
        description: Emergency contact information for the listing
        type: string
      flag:
        description: Country flag emoji
        type: string
      id:
        type: string
      instant_book:
        description: Whether the listing allows instant booking
        type: boolean
      latitude:
        description: Latitude coordinate of the listing location
        format: float
        type: number
        x-nullable: true
      local_recommendations:
        description: Local recommendations and tips for guests
        type: string
      longitude:
        description: Longitude coordinate of the listing location
        format: float
        type: number
        x-nullable: true
      province:
        description: Province/state where the listing is located
        type: string
      thumbnail:
        example: 'https://img.com/listing_123_space.jpg'
        type: string
      timezone:
        description: Timezone of the listing location
        example: America/Toronto
        type: string
      title:
        type: string
      wifi_details:
        $ref: '#/definitions/WifiDetail'
    required:
      - id
      - title
      - address
      - thumbnail
    type: object
  Location:
    properties:
      address:
        type: string
      city:
        type: string
      country:
        type: string
      latitude:
        format: double
        type: number
      longitude:
        format: double
        type: number
      place_id:
        type: string
    required:
      - latitude
      - longitude
      - city
      - country
    type: object
  LocationSearchResult:
    properties:
      country:
        type: string
      country_code:
        type: string
      id:
        type: string
      latitude:
        format: double
        type: number
      longitude:
        format: double
        type: number
      name:
        type: string
      popularity_score:
        format: double
        type: number
      type:
        enum:
          - city
          - country
          - region
        type: string
    required:
      - id
      - name
      - country
      - country_code
      - type
    type: object
  LocationSubmissionRequest:
    properties:
      device_info:
        default: {}
        description: Device information for security
        type: object
      location:
        $ref: '#/definitions/GeoLocation'
      metadata:
        default: {}
        description: Additional metadata
        type: object
    required:
      - location
    type: object
  Message:
    properties:
      content:
        description: Message content
        example: Hello! How are you doing?
        type: string
      conversation_id:
        description: ID of the conversation this message belongs to
        example: conv_123456789
        type: string
      id:
        description: Unique identifier of the message
        example: msg_123456789
        type: string
      message_type:
        description: Type of message content
        enum:
          - text
          - image
          - file
          - system
        example: text
        type: string
      metadata:
        description: Additional message metadata
        properties:
          edited_at:
            description: When the message was last edited
            format: date-time
            type: string
          file_name:
            description: Original filename for file messages
            type: string
          file_size:
            description: File size in bytes
            type: integer
          file_url:
            description: URL for file/image messages
            type: string
          mime_type:
            description: MIME type of the file
            type: string
          reply_to:
            description: ID of the message this is replying to
            type: string
        type: object
      read_by:
        additionalProperties:
          format: date-time
          type: string
        description: Map of user IDs to read timestamps
        example:
          user_456: '2024-01-15T14:50:00Z'
        type: object
      sender_id:
        description: ID of the user who sent the message
        example: user_123
        type: string
      status:
        description: Message delivery status
        enum:
          - sent
          - delivered
          - read
          - failed
        example: delivered
        type: string
      timestamp:
        description: When the message was sent
        example: '2024-01-15T14:45:00Z'
        format: date-time
        type: string
    required:
      - id
      - conversation_id
      - sender_id
      - content
      - message_type
      - timestamp
      - status
    type: object
  MoveListingRequest:
    properties:
      from_tag:
        example: vegas
        maxLength: 32
        type: string
      listing_id:
        example: listing_123
        type: string
      to_tag:
        example: california
        maxLength: 32
        type: string
    required:
      - from_tag
      - to_tag
      - listing_id
    type: object
  Pagination:
    properties:
      has_next:
        type: boolean
      has_prev:
        type: boolean
      limit:
        type: integer
      page:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
    required:
      - page
      - limit
      - total
      - total_pages
      - has_next
      - has_prev
    type: object
  PaymentIntentResponse:
    properties:
      amount:
        description: Payment amount
        example: 150
        format: float
        type: number
      booking_id:
        description: Associated booking ID
        example: booking_123
        type: string
      client_secret:
        description: Client secret for frontend
        example: pi_1234567890_secret_abc123
        type: string
      created_at:
        description: Creation timestamp
        example: '2024-01-15T10:30:00Z'
        format: date-time
        type: string
      currency:
        description: Currency code
        example: CAD
        type: string
      id:
        description: Payment intent ID
        example: pi_1234567890
        type: string
      status:
        description: Payment intent status
        enum:
          - requires_payment_method
          - requires_confirmation
          - requires_action
          - processing
          - succeeded
          - requires_capture
          - canceled
        example: requires_payment_method
        type: string
    required:
      - id
      - client_secret
      - amount
      - currency
      - status
    type: object
  PaymentMethodsResponse:
    properties:
      data:
        description: Payment methods data
        properties:
          default_method:
            description: ID of the default payment method
            type: string
          payment_methods:
            items:
              properties:
                card:
                  properties:
                    brand:
                      description: 'Card brand (e.g., visa, mastercard)'
                      type: string
                    expiry_month:
                      description: Expiry month
                      type: integer
                    expiry_year:
                      description: Expiry year
                      type: integer
                    last4:
                      description: Last 4 digits of card
                      type: string
                  type: object
                created_at:
                  description: When the payment method was added
                  format: date-time
                  type: string
                id:
                  description: Payment method ID
                  type: string
                is_default:
                  description: Whether this is the default payment method
                  type: boolean
                type:
                  description: 'Payment method type (e.g., card)'
                  type: string
              type: object
            type: array
        type: object
      success:
        description: Request success status
        type: boolean
      toast:
        description: Optional toast message for the client UI
        type: string
    required:
      - success
      - data
    type: object
  PopularLocations:
    properties:
      countries:
        items:
          $ref: '#/definitions/LocationSearchResult'
        type: array
      destinations:
        items:
          $ref: '#/definitions/LocationSearchResult'
        type: array
    required:
      - destinations
      - countries
    type: object
  PublicReview:
    description: 'Public review information for display (minimal, user-facing)'
    properties:
      comment:
        description: Review text
        type: string
      created_at:
        description: When the review was created
        format: date-time
        type: string
      edit_deadline:
        description: Deadline for editing this review (null if not editable)
        format: date-time
        type: string
      emoji_sentiment:
        description: "Emoji sentiment (\U0001F44D, \U0001F44D\U0001F44D, \U0001F44E)"
        type: string
      guest_review_host:
        description: Whether the guest has reviewed the host
        type: boolean
      guest_review_listing:
        description: Whether the guest has reviewed the listing
        type: boolean
      host_review_guest:
        description: Whether the host has reviewed the guest
        type: boolean
      id:
        description: Unique review identifier
        type: string
      listing:
        description: Listing being reviewed (for listing reviews only)
        properties:
          id:
            type: string
          thumbnail:
            type: string
          title:
            type: string
        type: object
      metrics:
        additionalProperties: true
        description: 'Individual rating metrics (cleanliness, location, etc.)'
        type: object
      overall_rating:
        description: Overall rating score
        type: number
      reviewer:
        description: Person who wrote the review
        properties:
          avatar:
            type: string
          id:
            type: string
          name:
            type: string
        required:
          - id
          - name
        type: object
    required:
      - id
      - overall_rating
      - metrics
      - created_at
      - reviewer
    type: object
  ReelListResponse:
    properties:
      pagination:
        $ref: '#/definitions/Pagination'
      reels:
        items:
          $ref: '#/definitions/ReelResponse'
        type: array
    required:
      - reels
      - pagination
    type: object
  ReelResponse:
    allOf:
      - $ref: '#/definitions/ApiResponse'
      - properties:
          data:
            properties:
              tags:
                default: []
                items:
                  type: string
                type: array
              author:
                type: string
              author_avatar:
                type: string
              category:
                default: travel
                type: string
              comments:
                type: integer
              content:
                type: string
              country_code:
                type: string
              created_at:
                format: date-time
                type: string
              featured:
                default: false
                type: boolean
              featured_at:
                format: date-time
                type: string
                x-nullable: true
              id:
                type: string
              image_url:
                type: string
              likes:
                type: integer
              location:
                type: string
              priority:
                default: 0
                type: integer
              public:
                default: false
                type: boolean
              title:
                type: string
              trending:
                default: false
                type: boolean
              video_url:
                type: string
              views:
                type: integer
            required:
              - id
              - title
              - location
              - image_url
              - video_url
              - content
              - country_code
              - likes
              - views
              - comments
              - created_at
              - featured
              - priority
              - category
              - tags
              - trending
              - author
              - author_avatar
              - public
            type: object
        type: object
  RefundResponse:
    properties:
      amount:
        description: Refund amount
        example: 150
        format: float
        type: number
      booking_id:
        description: Associated booking ID
        example: booking_123
        type: string
      created_at:
        description: Creation timestamp
        example: '2024-01-15T10:30:00Z'
        format: date-time
        type: string
      currency:
        description: Currency code
        example: CAD
        type: string
      id:
        description: Refund ID
        example: re_1234567890
        type: string
      payment_intent_id:
        description: Original payment intent ID
        example: pi_1234567890
        type: string
      reason:
        description: Refund reason
        example: customer_request
        type: string
      status:
        description: Refund status
        enum:
          - pending
          - succeeded
          - failed
          - canceled
        example: succeeded
        type: string
    required:
      - id
      - payment_intent_id
      - amount
      - currency
      - status
    type: object
  RemoveListingRequest:
    properties:
      listing_id:
        example: listing_123
        type: string
      tag:
        example: vegas
        maxLength: 32
        type: string
    required:
      - listing_id
    type: object
  ReportReviewRequest:
    properties:
      details:
        description: Additional details about the report
        maxLength: 500
        type: string
      reason:
        enum:
          - INAPPROPRIATE
          - MISLEADING
          - SPAM
          - OFFENSIVE
          - OTHER
        type: string
      reported_by:
        description: User ID of the person reporting the review
        type: string
    required:
      - reason
      - reported_by
    type: object
  Review:
    properties:
      host:
        description: Embedded host object from booking
        properties:
          avatar:
            type: string
          created_at:
            format: date-time
            type: string
          id:
            type: string
          name:
            type: string
        type: object
      author:
        description: The user writing the review
        type: string
      booking_id:
        type: string
      category:
        type: string
      comment:
        type: string
      created_at:
        format: date-time
        type: string
      edit_deadline:
        description: Deadline for editing this review (based on config period)
        format: date-time
        type: string
      edit_history:
        items:
          $ref: '#/definitions/ReviewEdit'
        type: array
      emoji_sentiment:
        type: string
      guest:
        description: Embedded guest object from booking
        properties:
          avatar:
            type: string
          created_at:
            format: date-time
            type: string
          id:
            type: string
          name:
            type: string
        type: object
      guest_review_host:
        description: Whether the guest has reviewed the host
        type: boolean
      guest_review_listing:
        description: Whether the guest has reviewed the listing
        type: boolean
      host_review_guest:
        description: Whether the host has reviewed the guest
        type: boolean
      id:
        type: string
      listing:
        description: Embedded listing object from booking
        properties:
          address:
            type: string
          id:
            type: string
          thumbnail:
            type: string
          title:
            type: string
        type: object
      metrics:
        additionalProperties: true
        type: object
      overall_rating:
        type: number
      status:
        type: string
      target:
        description: The user or listing being reviewed
        type: string
      type:
        description: Type of entity being reviewed
        enum:
          - user
          - listing
        type: string
      updated_at:
        format: date-time
        type: string
      version:
        type: integer
    required:
      - id
      - author
      - target
      - type
      - metrics
      - created_at
      - updated_at
      - status
      - version
      - edit_history
    type: object
  ReviewCreatedResponse:
    example:
      data:
        booking_id: E41MrpBF295EmoYdkIiF
        id: PCNpbQVwyxMiQQpqDz6v
        status: pending
      success: true
      toast: Review submitted and pending approval
    properties:
      data:
        properties:
          booking_id:
            description: Associated booking ID
            type: string
          id:
            description: The unique ID of the created review
            type: string
          status:
            description: Review status (always pending for new reviews)
            enum:
              - pending
            type: string
        required:
          - id
          - status
          - booking_id
        type: object
      error:
        type: string
      success:
        type: boolean
      toast:
        type: string
    required:
      - success
      - toast
    type: object
  ReviewEdit:
    properties:
      changes:
        additionalProperties: true
        type: object
      updated_at:
        format: date-time
        type: string
      version:
        type: integer
    required:
      - version
      - updated_at
      - changes
    type: object
  ReviewRequest:
    properties:
      booking_id:
        description: >-
          Associated booking ID (server will use this to infer
          author/target/context)
        type: string
      comment:
        description: Optional textual comment for the review
        maxLength: 1000
        type: string
      emoji_sentiment:
        description: Optional emoji sentiment for the review
        enum:
          - "\U0001F44D"
          - "\U0001F44D\U0001F44D"
          - "\U0001F44E"
        type: string
      metrics:
        description: >-
          Category-specific numeric metrics (server will validate based on
          inferred context)
      type:
        description: >-
          Type of entity being reviewed (guest_to_host is represented by 'user',
          guest_to_listing by 'listing')
        enum:
          - user
          - listing
        type: string
    required:
      - booking_id
      - type
      - metrics
    type: object
  ReviewResponseRequest:
    properties:
      comment:
        description: The response text
        maxLength: 1000
        type: string
    required:
      - comment
    type: object
  ReviewUpdateRequest:
    properties:
      comment:
        maxLength: 1000
        type: string
      emoji_sentiment:
        enum:
          - "\U0001F44D"
          - "\U0001F44D\U0001F44D"
          - "\U0001F44E"
        type: string
      metrics:
        additionalProperties: true
        description: Category-specific metrics (flexible)
        type: object
    type: object
  SendMessageRequest:
    properties:
      content:
        description: Message content
        example: Hello! How are you doing?
        type: string
      message_type:
        description: Type of message content
        enum:
          - text
          - image
          - file
        example: text
        type: string
      metadata:
        description: Additional message metadata
        properties:
          file_name:
            description: Original filename for file messages
            type: string
          file_size:
            description: File size in bytes
            type: integer
          file_url:
            description: URL for file/image messages
            type: string
          mime_type:
            description: MIME type of the file
            type: string
          reply_to:
            description: ID of the message this is replying to
            type: string
        type: object
    required:
      - content
      - message_type
    type: object
  SetupIntentResponse:
    properties:
      client_secret:
        description: Client secret for frontend
        example: seti_1234567890_secret_abc123
        type: string
      id:
        description: Setup intent ID
        example: seti_1234567890
        type: string
      payment_method_id:
        description: Payment method ID (available after confirmation)
        example: pm_1234567890
        type: string
      status:
        description: Setup intent status
        enum:
          - requires_payment_method
          - requires_confirmation
          - requires_action
          - processing
          - succeeded
          - canceled
        example: requires_payment_method
        type: string
    required:
      - id
      - client_secret
      - status
    type: object
  StoryListResponse:
    properties:
      pagination:
        $ref: '#/definitions/Pagination'
      stories:
        items:
          $ref: '#/definitions/StoryResponse'
        type: array
    required:
      - stories
      - pagination
    type: object
  StoryResponse:
    allOf:
      - $ref: '#/definitions/ApiResponse'
      - properties:
          data:
            properties:
              tags:
                default: []
                items:
                  type: string
                type: array
              author:
                type: string
              author_avatar:
                type: string
              category:
                default: travel
                type: string
              comments:
                type: integer
              content:
                type: string
              country_code:
                type: string
              created_at:
                format: date-time
                type: string
              expires_at:
                format: date-time
                type: string
              featured:
                default: false
                type: boolean
              featured_at:
                format: date-time
                type: string
                x-nullable: true
              id:
                type: string
              image_url:
                type: string
              likes:
                type: integer
              location:
                type: string
              priority:
                default: 0
                type: integer
              public:
                default: false
                type: boolean
              title:
                type: string
              trending:
                default: false
                type: boolean
              views:
                type: integer
            required:
              - id
              - title
              - location
              - image_url
              - content
              - country_code
              - likes
              - views
              - comments
              - created_at
              - expires_at
              - featured
              - priority
              - category
              - tags
              - trending
              - author
              - author_avatar
              - public
            type: object
        type: object
  SuccessResponse:
    properties:
      data:
        description: Response data
        type: object
      message:
        description: Optional success message
        example: Operation completed successfully
        type: string
      success:
        example: true
        type: boolean
    required:
      - success
      - data
    type: object
  TransactionHistoryResponse:
    properties:
      data:
        description: Transaction history data
        properties:
          page:
            properties:
              limit:
                description: Items per page
                type: integer
              page:
                description: Current page number
                type: integer
              total:
                description: Total number of transactions
                type: integer
              totalPages:
                description: Total number of pages
                type: integer
            type: object
          transactions:
            items:
              properties:
                amount:
                  description: Transaction amount
                  format: float
                  type: number
                created_at:
                  description: Transaction creation timestamp
                  format: date-time
                  type: string
                currency:
                  description: Currency code
                  type: string
                id:
                  description: Transaction ID
                  type: string
                status:
                  description: Transaction status
                  type: string
                type:
                  description: Transaction type
                  type: string
              type: object
            type: array
        type: object
      success:
        description: Request success status
        type: boolean
      toast:
        description: Optional toast message for the client UI
        type: string
    required:
      - success
      - data
    type: object
  TravelPlanListResponse:
    allOf:
      - $ref: '#/definitions/ApiResponse'
      - properties:
          data:
            properties:
              pagination:
                $ref: '#/definitions/Pagination'
              plans:
                items:
                  $ref: '#/definitions/TravelPlanResponse'
                type: array
            required:
              - plans
              - pagination
            type: object
        type: object
  TravelPlanResponse:
    allOf:
      - $ref: '#/definitions/ApiResponse'
      - properties:
          data:
            properties:
              connections:
                items:
                  $ref: '#/definitions/ConnectionResponse'
                type: array
              created_at:
                format: date-time
                type: string
              end_date:
                format: date-time
                type: string
                x-nullable: true
              id:
                type: string
              is_confirmed:
                type: boolean
              is_draft:
                type: boolean
              location:
                type: string
              notes:
                type: string
              organizer_avatar:
                type: string
              organizer_id:
                type: string
              organizer_name:
                type: string
              planned_date:
                format: date-time
                type: string
                x-nullable: true
              start_date:
                format: date-time
                type: string
                x-nullable: true
              updated_at:
                format: date-time
                type: string
            required:
              - id
              - location
              - is_confirmed
              - is_draft
              - connections
              - organizer_id
              - created_at
              - updated_at
            type: object
        type: object
  TypingIndicatorRequest:
    properties:
      is_typing:
        description: Whether the user is currently typing
        example: true
        type: boolean
    required:
      - is_typing
    type: object
  UpdateConversationRequest:
    properties:
      metadata:
        description: Conversation metadata to update
        properties:
          avatar_url:
            description: Conversation avatar URL
            type: string
          description:
            description: Conversation description
            type: string
          title:
            description: Conversation title
            type: string
        type: object
      status:
        description: Conversation status
        enum:
          - active
          - archived
        type: string
    type: object
  UpdateExperienceRequest:
    properties:
      available:
        type: boolean
      description:
        type: string
      duration_hours:
        minimum: 1
        type: integer
      max_group_size:
        minimum: 1
        type: integer
      price:
        minimum: 0
        type: number
      title:
        maxLength: 200
        type: string
    type: object
  UpdateMessageRequest:
    properties:
      content:
        description: Updated message content
        type: string
      metadata:
        description: Updated message metadata
        properties:
          file_name:
            description: Updated filename
            type: string
          file_url:
            description: Updated file URL
            type: string
        type: object
    type: object
  UpdateTravelPlanRequest:
    properties:
      end_date:
        format: date-time
        type: string
      is_confirmed:
        type: boolean
      is_draft:
        type: boolean
      location:
        maxLength: 200
        type: string
      notes:
        maxLength: 2000
        type: string
      organizer_avatar:
        format: uri
        type: string
      organizer_name:
        maxLength: 100
        type: string
      planned_date:
        format: date-time
        type: string
      start_date:
        format: date-time
        type: string
    type: object
  User:
    properties:
      avatar:
        type: string
      id:
        type: string
      name:
        type: string
    required:
      - id
      - name
      - avatar
    type: object
  UserDeletionResponse:
    description: Successful user deletion request response
    properties:
      data:
        properties:
          request_id:
            description: Unique ID for tracking the deletion request
            example: del_req_abc123xyz
            type: string
          submitted_at:
            example: '2025-12-02T10:30:00Z'
            format: date-time
            type: string
        required:
          - request_id
          - submitted_at
        type: object
      error:
        type: string
      success:
        example: true
        type: boolean
      toast:
        example: >-
          Deletion request submitted successfully. You will be contacted via
          email.
        type: string
    required:
      - success
      - toast
      - data
    type: object
  UserDeletionValidationError:
    description: User deletion validation error response
    properties:
      data:
        properties:
          errors:
            description: Blocking errors that prevent deletion
            items:
              properties:
                code:
                  enum:
                    - active_bookings
                    - upcoming_bookings
                    - pending_payments
                    - active_listings
                    - pending_verifications
                  example: active_bookings
                  type: string
                details:
                  additionalProperties: true
                  description: 'Additional context (booking IDs, counts, etc.)'
                  type: object
                message:
                  example: 'Cannot delete account: You have 2 active bookings'
                  type: string
              required:
                - code
                - message
              type: object
            type: array
          warnings:
            description: Non-blocking warnings (informational)
            items:
              properties:
                code:
                  example: account_age
                  type: string
                details:
                  additionalProperties: true
                  type: object
                message:
                  example: Account is less than 30 days old
                  type: string
              required:
                - code
                - message
              type: object
            type: array
        required:
          - errors
          - warnings
        type: object
      error:
        example: Cannot delete account due to active bookings or pending payments
        type: string
      success:
        example: false
        type: boolean
      toast:
        example: >-
          Your account cannot be deleted at this time. Please resolve the issues
          below.
        type: string
    required:
      - success
      - error
      - toast
      - data
    type: object
  VerificationListResponse:
    properties:
      has_more:
        description: Whether there are more items
        type: boolean
      limit:
        description: Items per page
        type: integer
      page:
        description: Current page
        type: integer
      total:
        description: Total count
        type: integer
      verifications:
        description: List of verifications
        items:
          $ref: '#/definitions/VerificationStatusResponse'
        type: array
    required:
      - verifications
      - total
      - page
      - limit
      - has_more
    type: object
  VerificationResultResponse:
    properties:
      ai_provider:
        description: AI service provider used
        type: string
      extracted_data:
        description: Extracted data from ID document
        type: object
      face_match_score:
        description: Face matching confidence score
        format: float
        type: number
      id_validation:
        description: ID document validation result
        type: boolean
      liveness_detected:
        description: Liveness detection result
        type: boolean
      overall_confidence:
        description: Overall confidence score
        format: float
        type: number
      processing_time:
        description: Processing time in seconds
        format: float
        type: number
    required:
      - id_validation
      - liveness_detected
      - face_match_score
      - overall_confidence
      - ai_provider
      - processing_time
    type: object
  VerificationStatusResponse:
    properties:
      confidence_score:
        description: Confidence score from AI validation
        format: float
        type: number
      created_at:
        description: Creation timestamp
        format: date-time
        type: string
      document_type:
        description: Document type
        enum:
          - drivers_license
          - passport
          - national_id
        type: string
      id:
        description: Verification ID
        type: string
      review_notes:
        description: Review notes
        type: string
      reviewed_by:
        description: ID of reviewer
        type: string
      status:
        description: Current verification status
        enum:
          - pending
          - processing
          - approved
          - rejected
          - needs_review
          - failed
        type: string
      updated_at:
        description: Last update timestamp
        format: date-time
        type: string
      user_id:
        description: User ID
        type: string
      verification_type:
        description: Type of verification
        enum:
          - facematch
          - background
          - location
          - voice
          - livevideo
          - pose
          - peer
        type: string
    required:
      - id
      - user_id
      - verification_type
      - document_type
      - status
      - created_at
      - updated_at
    type: object
  VerificationSubmissionResponse:
    properties:
      created_at:
        description: Creation timestamp
        format: date-time
        type: string
      estimated_processing_time:
        description: Estimated processing time in minutes
        type: integer
      id:
        description: Verification ID
        type: string
      status:
        description: Current verification status
        enum:
          - pending
          - processing
          - approved
          - rejected
          - needs_review
          - failed
        type: string
    required:
      - id
      - status
      - created_at
    type: object
  ViewCountResponse:
    properties:
      views:
        type: integer
    required:
      - views
    type: object
  VoiceSubmissionRequest:
    properties:
      audio_url:
        description: URL of audio file for voice biometrics
        format: uri
        type: string
      device_info:
        default: {}
        description: Device information for security
        type: object
      metadata:
        default: {}
        description: Additional metadata
        type: object
    required:
      - audio_url
    type: object
  WifiDetail:
    properties:
      network_name:
        type: string
      notes:
        type: string
      password:
        type: string
    type: object
securityDefinitions:
  jwtAuth:
    in: header
    name: Authorization
    type: apiKey
x-components:
  responses:
    BadRequest:
      content:
        application/json:
          schema:
            $ref: '#/definitions/ErrorResponse'
      description: Bad request
    Forbidden:
      content:
        application/json:
          schema:
            $ref: '#/definitions/ErrorResponse'
      description: Forbidden
    InternalServerError:
      content:
        application/json:
          schema:
            $ref: '#/definitions/ErrorResponse'
      description: Internal server error
    NotFound:
      content:
        application/json:
          schema:
            $ref: '#/definitions/ErrorResponse'
      description: Not found
    Unauthorized:
      content:
        application/json:
          schema:
            $ref: '#/definitions/ErrorResponse'
      description: Unauthorized

